namespace SpriteKind {
    export const Raft = SpriteKind.create()
    export const Object = SpriteKind.create()
    export const RaftWithPlayer = SpriteKind.create()
}


scene.onOverlapTile(SpriteKind.Raft, assets.tile`myTile43`, function (sprite, location) {
    if (currentTileMap == "River"){ 
        loadRiver2()
    }
    if (currentTileMap == "Sea"){
        canEnterVillage = true
    }
})
scene.onOverlapTile(SpriteKind.Raft, assets.tile`myTile44`, function(sprite, location){
    if (currentTileMap == "Sea"){
        loadHeroHouse()
    }
    if (currentTileMap == "River"){
        loadVillage()
    }
    if (currentTileMap == "River2"){
        loadRiver()
    }
})
scene.onOverlapTile(SpriteKind.Player, assets.tile`myTile32`, function (sprite, location) {
    canEnterRaft = true
})
scene.onOverlapTile(SpriteKind.Player, sprites.castle.tileDarkGrass1, function (sprite, location) {
    canEnterRaft = true
})
scene.onOverlapTile(SpriteKind.Player, assets.tile`myTile29`, function (sprite, location) {
    canEnterRaft = false
})
scene.onOverlapTile(SpriteKind.Player, sprites.castle.tileDarkGrass3, function (sprite, location) {
    canEnterRaft = false
})
scene.onOverlapTile(SpriteKind.Player, sprites.castle.tileGrass1, function (sprite, location) {
    canEnterRaft = false
})

function loadHeroHouse() {
    tiles.loadMap(tiles.createMap(assets.tilemap`HeroHouse`))
    currentTileMap = "HeroHouse"

    sprites.destroyAllSpritesOfKind(SpriteKind.Raft)
    sprites.destroyAllSpritesOfKind(SpriteKind.Player)
    sprites.destroyAllSpritesOfKind(SpriteKind.Object)

    spawnHero()
    spawnMom()
    spawnRaft()
    spawnHouses()

    controller.B.onEvent(ControllerButtonEvent.Pressed, function () {
        if (canEnterRaft == true) {
            loadSea()
        }

    })
}


function loadSea() {
    currentTileMap = "Sea"
    tiles.loadMap(tiles.createMap(assets.tilemap`Sea`))
    
    sprites.destroyAllSpritesOfKind(SpriteKind.Player)
    sprites.destroyAllSpritesOfKind(SpriteKind.Raft)
    sprites.destroyAllSpritesOfKind(SpriteKind.Object)
    
    enterRaftingMode()
    canEnterRaft = false
    
    controller.B.onEvent(ControllerButtonEvent.Pressed, function () {
        if (canEnterVillage == true) {
            loadVillage()
        }

    })
}


function loadVillage() {
    currentTileMap = "Village"
    tiles.loadMap(tiles.createMap(assets.tilemap`Village`))

    sprites.destroyAllSpritesOfKind(SpriteKind.Player)
    sprites.destroyAllSpritesOfKind(SpriteKind.Raft)
    sprites.destroyAllSpritesOfKind(SpriteKind.Object)

    spawnHero()
    spawnRaft()
    spawnHouses()
    spawnVillager()

    canEnterVillage = false
    
    controller.B.onEvent(ControllerButtonEvent.Pressed, function () {
        if (canEnterRaft == true && currentTileMap == "Village") {
            loadRiver()
        }
    })
}


function loadRiver() {
    
    currentTileMap = "River"
    tiles.loadMap(tiles.createMap(assets.tilemap`River`))

    sprites.destroyAllSpritesOfKind(SpriteKind.Player)
    sprites.destroyAllSpritesOfKind(SpriteKind.Raft)
    sprites.destroyAllSpritesOfKind(SpriteKind.Object)

    enterRaftingModeWithVillager()
    canEnterRiver = false

}


function loadRiver2 () {

    tiles.loadMap(tiles.createMap(assets.tilemap`River2`))
    currentTileMap = "River2"

    sprites.destroyAllSpritesOfKind(SpriteKind.Player)
    sprites.destroyAllSpritesOfKind(SpriteKind.Raft)
    sprites.destroyAllSpritesOfKind(SpriteKind.Object)

    enterRaftingModeWithVillager()
    canEnterRiver = false
}



function spawnHouses () {
    for (let value of tiles.getTilesByType(assets.tile`myTile41`)) {
        blueHouse = sprites.create(assets.image`houseBlue`, SpriteKind.Object)
        tiles.placeOnTile(blueHouse, value)
    }
    for (let value2 of tiles.getTilesByType(assets.tile`myTile39`)) {
        blueHouse = sprites.create(assets.image`houseBlue0`, SpriteKind.Object)
        tiles.placeOnTile(blueHouse, value2)
    }
    for (let value3 of tiles.getTilesByType(assets.tile`myTile40`)) {
        redHouse = sprites.create(assets.image`houseRed`, SpriteKind.Object)
        tiles.placeOnTile(redHouse, value3)
    }
    for (let value4 of tiles.getTilesByType(assets.tile`myTile42`)) {
        redHouse = sprites.create(assets.image`houseRed0`, SpriteKind.Object)
        tiles.placeOnTile(redHouse, value4)
    }
}


function spawnHero () {
    hero = sprites.create(assets.image`Hero`, SpriteKind.Player)
    tiles.placeOnRandomTile(hero, assets.tile`myTile17`)
    if (currentTileMap == "HeroHouse") {
        tiles.coverAllTiles(assets.tile`myTile17`, sprites.castle.tileGrass2)
    }
    if (currentTileMap == "Village") {
        tiles.coverAllTiles(assets.tile`myTile17`, sprites.castle.tileDarkGrass2)
    }
    enterWalkingMode()
}

function spawnMom(){
    mom = sprites.create(assets.image`princess2Front`, SpriteKind.Object)
    tiles.placeOnRandomTile(mom, assets.tile`myTile45`)
    tiles.coverAllTiles(assets.tile`myTile45`, sprites.castle.tileGrass2)
}

function spawnVillager(){
    villager = sprites.create(assets.image`villager2WalkFront1`, SpriteKind.Object)
    tiles.placeOnRandomTile(villager, assets.tile`myTile46`)
    tiles.coverAllTiles(assets.tile`myTile46`, sprites.castle.tileDarkGrass2)
}

function spawnRaft () {
    raft = sprites.create(assets.image`RaftFlippedRight`, SpriteKind.Object)
    tiles.placeOnRandomTile(raft, assets.tile`myTile16`)
    tiles.replaceAllTiles(assets.tile`myTile16`, assets.tile`myTile3`)
}


function enterWalkingMode () {
    sprites.destroyAllSpritesOfKind(SpriteKind.Object)
    scene.cameraFollowSprite(hero)
    controller.moveSprite(hero, heroVel, heroVel)
    characterAnimations.loopFrames(
    hero,
    [img`
        . . . . . . f f f f . . . . . . 
        . . . . f f e e e e f f . . . . 
        . . . f e e e f f e e e f . . . 
        . . f f f f f 2 2 f f f f f . . 
        . . f f e 2 e 2 2 e 2 e f f . . 
        . . f e 2 f 2 f f 2 f 2 e f . . 
        . . f f f 2 2 e e 2 2 f f f . . 
        . f f e f 2 f e e f 2 f e f f . 
        . f e e f f e e e e f e e e f . 
        . . f e e e e e e e e e e f . . 
        . . . f e e e e e e e e f . . . 
        . . e 4 f f f f f f f f 4 e . . 
        . . 4 d f 2 2 2 2 2 2 f d 4 . . 
        . . 4 4 f 4 4 4 4 4 4 f 4 4 . . 
        . . . . . f f f f f f . . . . . 
        . . . . . f f . . f f . . . . . 
        `,img`
        . . . . . . . . . . . . . . . . 
        . . . . . . f f f f . . . . . . 
        . . . . f f e e e e f f . . . . 
        . . . f e e e f f e e e f . . . 
        . . . f f f f 2 2 f f f f . . . 
        . . f f e 2 e 2 2 e 2 e f f . . 
        . . f e 2 f 2 f f f 2 f e f . . 
        . . f f f 2 f e e 2 2 f f f . . 
        . . f e 2 f f e e 2 f e e f . . 
        . f f e f f e e e f e e e f f . 
        . f f e e e e e e e e e e f f . 
        . . . f e e e e e e e e f . . . 
        . . . e f f f f f f f f 4 e . . 
        . . . 4 f 2 2 2 2 2 e d d 4 . . 
        . . . e f f f f f f e e 4 . . . 
        . . . . f f f . . . . . . . . . 
        `,img`
        . . . . . . f f f f . . . . . . 
        . . . . f f e e e e f f . . . . 
        . . . f e e e f f e e e f . . . 
        . . f f f f f 2 2 f f f f f . . 
        . . f f e 2 e 2 2 e 2 e f f . . 
        . . f e 2 f 2 f f 2 f 2 e f . . 
        . . f f f 2 2 e e 2 2 f f f . . 
        . f f e f 2 f e e f 2 f e f f . 
        . f e e f f e e e e f e e e f . 
        . . f e e e e e e e e e e f . . 
        . . . f e e e e e e e e f . . . 
        . . e 4 f f f f f f f f 4 e . . 
        . . 4 d f 2 2 2 2 2 2 f d 4 . . 
        . . 4 4 f 4 4 4 4 4 4 f 4 4 . . 
        . . . . . f f f f f f . . . . . 
        . . . . . f f . . f f . . . . . 
        `,img`
        . . . . . . . . . . . . . . . . 
        . . . . . . f f f f . . . . . . 
        . . . . f f e e e e f f . . . . 
        . . . f e e e f f e e e f . . . 
        . . . f f f f 2 2 f f f f . . . 
        . . f f e 2 e 2 2 e 2 e f f . . 
        . . f e f 2 f f f 2 f 2 e f . . 
        . . f f f 2 2 e e f 2 f f f . . 
        . . f e e f 2 e e f f 2 e f . . 
        . f f e e e f e e e f f e f f . 
        . f f e e e e e e e e e e f f . 
        . . . f e e e e e e e e f . . . 
        . . e 4 f f f f f f f f e . . . 
        . . 4 d d e 2 2 2 2 2 f 4 . . . 
        . . . 4 e e f f f f f f e . . . 
        . . . . . . . . . f f f . . . . 
        `],
    100,
    characterAnimations.rule(Predicate.MovingUp)
    )
    characterAnimations.loopFrames(
    hero,
    [img`
        . . . . . . f f f f . . . . . . 
        . . . . f f f 2 2 f f f . . . . 
        . . . f f f 2 2 2 2 f f f . . . 
        . . f f f e e e e e e f f f . . 
        . . f f e 2 2 2 2 2 2 e e f . . 
        . . f e 2 f f f f f f 2 e f . . 
        . . f f f f e e e e f f f f . . 
        . f f e f b f 4 4 f b f e f f . 
        . f e e 4 1 f d d f 1 4 e e f . 
        . . f e e d d d d d d e e f . . 
        . . . f e e 4 4 4 4 e e f . . . 
        . . e 4 f 2 2 2 2 2 2 f 4 e . . 
        . . 4 d f 2 2 2 2 2 2 f d 4 . . 
        . . 4 4 f 4 4 5 5 4 4 f 4 4 . . 
        . . . . . f f f f f f . . . . . 
        . . . . . f f . . f f . . . . . 
        `,img`
        . . . . . . . . . . . . . . . . 
        . . . . . . f f f f . . . . . . 
        . . . . f f f 2 2 f f f . . . . 
        . . . f f f 2 2 2 2 f f f . . . 
        . . f f f e e e e e e f f f . . 
        . . f f e 2 2 2 2 2 2 e e f . . 
        . f f e 2 f f f f f f 2 e f f . 
        . f f f f f e e e e f f f f f . 
        . . f e f b f 4 4 f b f e f . . 
        . . f e 4 1 f d d f 1 4 e f . . 
        . . . f e 4 d d d d 4 e f e . . 
        . . f e f 2 2 2 2 e d d 4 e . . 
        . . e 4 f 2 2 2 2 e d d e . . . 
        . . . . f 4 4 5 5 f e e . . . . 
        . . . . f f f f f f f . . . . . 
        . . . . f f f . . . . . . . . . 
        `,img`
        . . . . . . f f f f . . . . . . 
        . . . . f f f 2 2 f f f . . . . 
        . . . f f f 2 2 2 2 f f f . . . 
        . . f f f e e e e e e f f f . . 
        . . f f e 2 2 2 2 2 2 e e f . . 
        . . f e 2 f f f f f f 2 e f . . 
        . . f f f f e e e e f f f f . . 
        . f f e f b f 4 4 f b f e f f . 
        . f e e 4 1 f d d f 1 4 e e f . 
        . . f e e d d d d d d e e f . . 
        . . . f e e 4 4 4 4 e e f . . . 
        . . e 4 f 2 2 2 2 2 2 f 4 e . . 
        . . 4 d f 2 2 2 2 2 2 f d 4 . . 
        . . 4 4 f 4 4 5 5 4 4 f 4 4 . . 
        . . . . . f f f f f f . . . . . 
        . . . . . f f . . f f . . . . . 
        `,img`
        . . . . . . . . . . . . . . . . 
        . . . . . . f f f f . . . . . . 
        . . . . f f f 2 2 f f f . . . . 
        . . . f f f 2 2 2 2 f f f . . . 
        . . f f f e e e e e e f f f . . 
        . . f e e 2 2 2 2 2 2 e f f . . 
        . f f e 2 f f f f f f 2 e f f . 
        . f f f f f e e e e f f f f f . 
        . . f e f b f 4 4 f b f e f . . 
        . . f e 4 1 f d d f 1 4 e f . . 
        . . e f e 4 d d d d 4 e f . . . 
        . . e 4 d d e 2 2 2 2 f e f . . 
        . . . e d d e 2 2 2 2 f 4 e . . 
        . . . . e e f 5 5 4 4 f . . . . 
        . . . . . f f f f f f f . . . . 
        . . . . . . . . . f f f . . . . 
        `],
    100,
    characterAnimations.rule(Predicate.MovingDown)
    )
    characterAnimations.loopFrames(
    hero,
    [img`
        . . . . . . f f f f f f . . . . 
        . . . . f f e e e e f 2 f . . . 
        . . . f f e e e e f 2 2 2 f . . 
        . . . f e e e f f e e e e f . . 
        . . . f f f f e e 2 2 2 2 e f . 
        . . . f e 2 2 2 f f f f e 2 f . 
        . . f f f f f f f e e e f f f . 
        . . f f e 4 4 e b f 4 4 e e f . 
        . . f e e 4 d 4 1 f d d e f . . 
        . . . f e e e 4 d d d d f . . . 
        . . . . f f e e 4 4 4 e f . . . 
        . . . . . 4 d d e 2 2 2 f . . . 
        . . . . . e d d e 2 2 2 f . . . 
        . . . . . f e e f 4 5 5 f . . . 
        . . . . . . f f f f f f . . . . 
        . . . . . . . f f f . . . . . . 
        `,img`
        . . . . . . . . . . . . . . . . 
        . . . . . . f f f f f f . . . . 
        . . . . f f e e e e f 2 f . . . 
        . . . f f e e e e f 2 2 2 f . . 
        . . . f e e e f f e e e e f . . 
        . . . f f f f e e 2 2 2 2 e f . 
        . . . f e 2 2 2 f f f f e 2 f . 
        . . f f f f f f f e e e f f f . 
        . . f f e 4 4 e b f 4 4 e e f . 
        . . f e e 4 d 4 1 f d d e f . . 
        . . . f e e e e e d d d f . . . 
        . . . . . f 4 d d e 4 e f . . . 
        . . . . . f e d d e 2 2 f . . . 
        . . . . f f f e e f 5 5 f f . . 
        . . . . f f f f f f f f f f . . 
        . . . . . f f . . . f f f . . . 
        `,img`
        . . . . . . f f f f f f . . . . 
        . . . . f f e e e e f 2 f . . . 
        . . . f f e e e e f 2 2 2 f . . 
        . . . f e e e f f e e e e f . . 
        . . . f f f f e e 2 2 2 2 e f . 
        . . . f e 2 2 2 f f f f e 2 f . 
        . . f f f f f f f e e e f f f . 
        . . f f e 4 4 e b f 4 4 e e f . 
        . . f e e 4 d 4 1 f d d e f . . 
        . . . f e e e 4 d d d d f . . . 
        . . . . f f e e 4 4 4 e f . . . 
        . . . . . 4 d d e 2 2 2 f . . . 
        . . . . . e d d e 2 2 2 f . . . 
        . . . . . f e e f 4 5 5 f . . . 
        . . . . . . f f f f f f . . . . 
        . . . . . . . f f f . . . . . . 
        `,img`
        . . . . . . . . . . . . . . . . 
        . . . . . . f f f f f f . . . . 
        . . . . f f e e e e f 2 f . . . 
        . . . f f e e e e f 2 2 2 f . . 
        . . . f e e e f f e e e e f . . 
        . . . f f f f e e 2 2 2 2 e f . 
        . . . f e 2 2 2 f f f f e 2 f . 
        . . f f f f f f f e e e f f f . 
        . . f f e 4 4 e b f 4 4 e e f . 
        . . f e e 4 d 4 1 f d d e f . . 
        . . . f e e e 4 d d d d f . . . 
        . . . . 4 d d e 4 4 4 e f . . . 
        . . . . e d d e 2 2 2 2 f . . . 
        . . . . f e e f 4 4 5 5 f f . . 
        . . . . f f f f f f f f f f . . 
        . . . . . f f . . . f f f . . . 
        `],
    100,
    characterAnimations.rule(Predicate.MovingRight)
    )
    characterAnimations.loopFrames(
    hero,
    [img`
        . . . . f f f f f f . . . . . . 
        . . . f 2 f e e e e f f . . . . 
        . . f 2 2 2 f e e e e f f . . . 
        . . f e e e e f f e e e f . . . 
        . f e 2 2 2 2 e e f f f f . . . 
        . f 2 e f f f f 2 2 2 e f . . . 
        . f f f e e e f f f f f f f . . 
        . f e e 4 4 f b e 4 4 e f f . . 
        . . f e d d f 1 4 d 4 e e f . . 
        . . . f d d d d 4 e e e f . . . 
        . . . f e 4 4 4 e e f f . . . . 
        . . . f 2 2 2 e d d 4 . . . . . 
        . . . f 2 2 2 e d d e . . . . . 
        . . . f 5 5 4 f e e f . . . . . 
        . . . . f f f f f f . . . . . . 
        . . . . . . f f f . . . . . . . 
        `,img`
        . . . . . . . . . . . . . . . . 
        . . . . f f f f f f . . . . . . 
        . . . f 2 f e e e e f f . . . . 
        . . f 2 2 2 f e e e e f f . . . 
        . . f e e e e f f e e e f . . . 
        . f e 2 2 2 2 e e f f f f . . . 
        . f 2 e f f f f 2 2 2 e f . . . 
        . f f f e e e f f f f f f f . . 
        . f e e 4 4 f b e 4 4 e f f . . 
        . . f e d d f 1 4 d 4 e e f . . 
        . . . f d d d e e e e e f . . . 
        . . . f e 4 e d d 4 f . . . . . 
        . . . f 2 2 e d d e f . . . . . 
        . . f f 5 5 f e e f f f . . . . 
        . . f f f f f f f f f f . . . . 
        . . . f f f . . . f f . . . . . 
        `,img`
        . . . . f f f f f f . . . . . . 
        . . . f 2 f e e e e f f . . . . 
        . . f 2 2 2 f e e e e f f . . . 
        . . f e e e e f f e e e f . . . 
        . f e 2 2 2 2 e e f f f f . . . 
        . f 2 e f f f f 2 2 2 e f . . . 
        . f f f e e e f f f f f f f . . 
        . f e e 4 4 f b e 4 4 e f f . . 
        . . f e d d f 1 4 d 4 e e f . . 
        . . . f d d d d 4 e e e f . . . 
        . . . f e 4 4 4 e e f f . . . . 
        . . . f 2 2 2 e d d 4 . . . . . 
        . . . f 2 2 2 e d d e . . . . . 
        . . . f 5 5 4 f e e f . . . . . 
        . . . . f f f f f f . . . . . . 
        . . . . . . f f f . . . . . . . 
        `,img`
        . . . . . . . . . . . . . . . . 
        . . . . f f f f f f . . . . . . 
        . . . f 2 f e e e e f f . . . . 
        . . f 2 2 2 f e e e e f f . . . 
        . . f e e e e f f e e e f . . . 
        . f e 2 2 2 2 e e f f f f . . . 
        . f 2 e f f f f 2 2 2 e f . . . 
        . f f f e e e f f f f f f f . . 
        . f e e 4 4 f b e 4 4 e f f . . 
        . . f e d d f 1 4 d 4 e e f . . 
        . . . f d d d d 4 e e e f . . . 
        . . . f e 4 4 4 e d d 4 . . . . 
        . . . f 2 2 2 2 e d d e . . . . 
        . . f f 5 5 4 4 f e e f . . . . 
        . . f f f f f f f f f f . . . . 
        . . . f f f . . . f f . . . . . 
        `],
    100,
    characterAnimations.rule(Predicate.MovingLeft)
    )
}


function enterRaftingMode () {
    sprites.destroyAllSpritesOfKind(SpriteKind.Player)
    sprites.destroyAllSpritesOfKind(SpriteKind.Object)
    sprites.destroyAllSpritesOfKind(SpriteKind.Raft)
    raft = sprites.create(assets.image`RaftWithPlayer`, SpriteKind.Raft)
    tiles.placeOnRandomTile(raft, assets.tile`myTile16`)
    tiles.replaceAllTiles(assets.tile`myTile16`, assets.tile`myTile3`)
    scene.cameraFollowSprite(raft)
    controller.moveSprite(raft, raftVel, raftVel)
    characterAnimations.loopFrames(
    raft,
    [img`
        ................................................................
        ................................................................
        ................................................................
        ................................................................
        ................................................................
        .................bbb......bbb......bbb......bbb.................
        ...............bbdddb....bdddb....bdddb....bdddbb...............
        ..............bddbbbdb..bdbbbdb..bdbbbdb..bdbbbddb..............
        .............bdbbdddbdbbdbdddbdbbdbdddbdbbdbdddbbdb.............
        ............bdbbdbbbbbbdbdbbbdbddbdbbbbbdbbdbbbdbbdb............
        ............bdbdbdddddbdbbdddbbddbbddddbdbdbdddbdbdb............
        ............cdbbdbbbbbbdbdbbbdbddbdbbbbbdbbdbbbdbbdb............
        ............cbdbbdddbddbdbdddbdbbdbdddbdbbdbdddbbdb.............
        ............efbddbbbdeefbdbbbdbcfbdbbbdbc.efbbbddbc.............
        ............eeffbdddceeefbdddbceefbdddcce.eedddbcce.............
        ............eeeefccce.eeeffccceeeefccceee.eefccceee.............
        ............ceeeeeeee.ceeeeeeeeeeeeeeeeee.ceeeeeeee.............
        ............feeeeeeee.feeeeeeeeeeeeeeeeee.feeeeeeee.............
        ............cceeeeeee.cceeeeeeeeceeeeeeee.cceeeeeee.............
        .............feeeeeee..feeeeeeeefeeeeeeee..feeeeeee.............
        .............fceeeeeef.fceeeeeeefceeeeeee.ffeeeeeee.............
        .............eeeeeeeee.eeee44eeeeeeeeeeee.eeeeeeeee.............
        .............ceeeefffe.cee444eeeceeeeeeee.eceeeeeee.............
        .............ceeffeeeffc4444eeeeceeeeeeee.eceeeeeee.............
        .............eefeeefeeef44eeeeeeeeeeeeeee.eeeeeeeee.............
        .............efffff2fffffeeeeeeeeeeeeeeee.feeeeeeee.............
        .............effe2e2e2effeeeeeeeeeeeeeeee.feeeeeeee.............
        .............efff22e22fffeeeeeeceeeeeeeec.feeeeeeec.............
        .............ffef2fef2fefeeeeeecceeeeeeec.fceeeeeec.............
        .............feeffeeefeeeeeeeeefceeeeeeef.fceeeeeef.............
        .............ffeeeeeeeeefeeeeeeffeeeeeeef.efeeeeeef.............
        ............4f44fffffff4eeeeeeeffeeeeeeef.efeeeeeef.............
        ............444df22222fd4eeeeeeeeeeeeeeee.eeeeeeeee.............
        ...........44e44f44444f44eeeeeeeeeeeeeeee.eeeeeeeee.............
        ..........444eeeefffff.eeeeeeeeeeeeeeeeee..eeeeeeee.............
        .....44..444.eeeefeeef.eeeeeeeeeeeeeeeeeef.eeeeeeee.............
        ....444.444..eeeeeeee..eeeeeeeeeeeeeeeeee..eeeeeeee.............
        ...4444444...eeeeeeee..eeeeeeeceeeeeeeece..eeeeeece.............
        ..4444444....eeceeeee..eeeeeeeceeeeeeeece..eeeeeece.............
        ..444444444..eeceeeee..eeeeeeefeeeeeeeefe..eeeeeefe.............
        ..444444444..eeceeeee..eeeeeeefeeeeeeeefe..eeeeeefe.............
        ..44444444...eeeeeeee..eeeeeeeceeeeeeeece..eeeeeece.............
        ..4444444....eeeeeeee..eeeeeeeceeeeeeeece..eeeeeece.............
        ...4444......eeeeeeeee.eeeeeeeeeeeeeeeeeee.eeeeeeee.............
        .............eeeeeeeee.eeeeeeeeeeeeeeeeeee.eeeeeeee.............
        .............eeeeeeeee.eeeeeeeeeeeeeeeeeee.eeeeeeee.............
        .............ceeeeeeef.ceeeeeeeeceeeeeeeef.ceeeeeee.............
        .............ceeeeeeef.ceeeeeeeeceeeeeeeef.ceeeeeee.............
        .............ceeeeeeef.ceeeeeeeeceeeeeeeef.ceeeeeee.............
        .............fcceeeec..fceeeeeeefceeeecee..feeeecee.............
        .............fccceecc..fcceececefcceeccce..feeeecce.............
        .............fcceeccc..fceeececcfceeccccc..feececcc.............
        .............fccceccc..fcceececcfcceccccc..feececcc.............
        .............fccccece..fccccceccfcccececc..fcceeecc.............
        .............fccccccc..fcccccccffcccccccf..fccccccf.............
        .............cccccccc..cccccccccccccccccc..cccccccc.............
        .............cccccccc..cccccccccccccccccc..cccccccc.............
        .............cccccccc..cccccccccccccccccc..cccccccc.............
        .............cccccccc..cccccccccccccccccc..cccccccc.............
        ................................................................
        ................................................................
        ................................................................
        ................................................................
        ................................................................
        `,img`
        ................................................................
        ................................................................
        ................................................................
        ................................................................
        ................................................................
        .................bbb......bbb......bbb......bbb.................
        ...............bbdddb....bdddb....bdddb....bdddbb...............
        ..............bddbbbdb..bdbbbdb..bdbbbdb..bdbbbddb..............
        .............bdbbdddbdbbdbdddbdbbdbdddbdbbdbdddbbdb.............
        ............bdbbdbbbbbbdbdbbbdbddbdbbbbbdbbdbbbdbbdb............
        ............bdbdbdddddbdbbdddbbddbbddddbdbdbdddbdbdb............
        ............cdbbdbbbbbbdbdbbbdbddbdbbbbbdbbdbbbdbbdb............
        ............cbdbbdddbddbdbdddbdbbdbdddbdbbdbdddbbdb.............
        ............efbddbbbdeefbdbbbdbcfbdbbbdbc.efbbbddbc.............
        ............eeffbdddceeefbdddbceefbdddcce.eedddbcce.............
        ............eeeefccce.eeeffccceeeefccceee.eefccceee.............
        ............ceeeeeeee.ceeeeeeeeeeeeeeeeee.ceeeeeeee.............
        ............feeeeeeee.feeeeeeeeeeeeeeeeee.feeeeeeee.............
        ............cceeeeeee.cceeeeeeeeceeeeeeee.cceeeeeee.............
        .....4444444.feeeeeee..feeeeeeeefeeeeeeee..feeeeeee.............
        .....4444444.fceeeeeef.fceeeeeeefceeeeeee.ffeeeeeee.............
        .....44444444eeeeeeeee.eeeeeeeeeeeeeeeeee.eeeeeeeee.............
        .....4444444444eeefffe.ceeeeeeeeceeeeeeee.eceeeeeee.............
        .....44444444444ffeeeffceeeeeeeeceeeeeeee.eceeeeeee.............
        .....444444..e4feeefeeefeeeeeeeeeeeeeeeee.eeeeeeeee.............
        ......4444...efffff2fffff4eeeeeeeeeeeeeee.feeeeeeee.............
        .......444...effe2e2e2eff444eeeeeeeeeeeee.feeeeeeee.............
        .......444...efff22e22fff4444eeceeeeeeeec.feeeeeeec.............
        .............ffef2fef2fefee4eeecceeeeeeec.fceeeeeec.............
        ......1......feeffeeefeeeeeeeeefceeeeeeef.fceeeeeef.............
        .....1..1...4ffeeeeeeeeefeeeeeeffeeeeeeef.efeeeeeef.............
        .....1.1.....f44fffffff4eeeeeeeffeeeeeeef.efeeeeeef.............
        .....1.1.....44df22222fd4eeeeeeeeeeeeeeee.eeeeeeeee.............
        .....1.1.....e44f44444f44eeeeeeeeeeeeeeee.eeeeeeeee.............
        .....1.1.....eeeefffff.eeeeeeeeeeeeeeeeee..eeeeeeee.............
        .....1.1.....eeeefeeef.eeeeeeeeeeeeeeeeeef.eeeeeeee.............
        .......1.....eeeeeeee..eeeeeeeeeeeeeeeeee..eeeeeeee.............
        .......1.....eeeeeeee..eeeeeeeceeeeeeeece..eeeeeece.............
        .......1.....eeceeeee..eeeeeeeceeeeeeeece..eeeeeece.............
        .............eeceeeee..eeeeeeefeeeeeeeefe..eeeeeefe.............
        .............eeceeeee..eeeeeeefeeeeeeeefe..eeeeeefe.............
        .............eeeeeeee..eeeeeeeceeeeeeeece..eeeeeece.............
        .............eeeeeeee..eeeeeeeceeeeeeeece..eeeeeece.............
        .............eeeeeeeee.eeeeeeeeeeeeeeeeeee.eeeeeeee.............
        .............eeeeeeeee.eeeeeeeeeeeeeeeeeee.eeeeeeee.............
        .............eeeeeeeee.eeeeeeeeeeeeeeeeeee.eeeeeeee.............
        .............ceeeeeeef.ceeeeeeeeceeeeeeeef.ceeeeeee.............
        .............ceeeeeeef.ceeeeeeeeceeeeeeeef.ceeeeeee.............
        .............ceeeeeeef.ceeeeeeeeceeeeeeeef.ceeeeeee.............
        .............fcceeeec..fceeeeeeefceeeecee..feeeecee.............
        .............fccceecc..fcceececefcceeccce..feeeecce.............
        .............fcceeccc..fceeececcfceeccccc..feececcc.............
        .............fccceccc..fcceececcfcceccccc..feececcc.............
        .............fccccece..fccccceccfcccececc..fcceeecc.............
        .............fccccccc..fcccccccffcccccccf..fccccccf.............
        .............cccccccc..cccccccccccccccccc..cccccccc.............
        .............cccccccc..cccccccccccccccccc..cccccccc.............
        .............cccccccc..cccccccccccccccccc..cccccccc.............
        .............cccccccc..cccccccccccccccccc..cccccccc.............
        ................................................................
        ................................................................
        ................................................................
        ................................................................
        ................................................................
        `],
    300,
    characterAnimations.rule(Predicate.MovingDown)
    )
    characterAnimations.loopFrames(
    raft,
    [img`
        ................................................................
        ................................................................
        ................................................................
        ................................................................
        ................................................................
        .................bbb......bbb......bbb......bbb.................
        ...............bbdddb....bdddb....bdddb....bdddbb...............
        ..............bddbbbdb..bdbbbdb..bdbbbdb..bdbbbddb..............
        .............bdbbdddbdbbdbdddbdbbdbdddbdbbdbdddbbdb.............
        ............bdbbdbbbbbbdbdbbbdbddbdbbbbbdbbdbbbdbbdb............
        ............bdbdbdddddbdbbdddbbddbbddddbdbdbdddbdbdb............
        ............cdbbdbbbbbbdbdbbbdbddbdbbbbbdbbdbbbdbbdb............
        ............cbdbbdddbddbdbdddbdbbdbdddbdbbdbdddbbdb.............
        ............efbddbbbdeefbdbbbdbcfbdbbbdbc.efbbbddbc.............
        ............eeffbdddceeefbdddbceefbdddcce.eedddbcce.............
        ............eeeefccce.eeeffccceeeefccceee.eefccceee.............
        ............ceeeeeeee.ceeeeeeeeeeeeeeeeee.ceeeeeeee.............
        ............feeeeeeee.feeeeeeeeeeeeeeeeee.feeeeeeee.............
        ............cceeeeeee.cceeeeeeeeceeeeeeee.cceeeeeee.............
        .....4444444.feeeeeee..feeeeeeeefeeeeeeee..feeeeeee.............
        .....4444444.fceeeeeef.fceeeeeeefceeeeeee.ffeeeeeee.............
        .....44444444eeeeeeeee.eeeeeeeeeeeeeeeeee.eeeeeeeee.............
        .....4444444444eeefffe.ceeeeeeeeceeeeeeee.eceeeeeee.............
        .....44444444444ffeeeffceeeeeeeeceeeeeeee.eceeeeeee.............
        .....444444..e4feeefeeefeeeeeeeeeeeeeeeee.eeeeeeeee.............
        ......4444...efffff2fffff4eeeeeeeeeeeeeee.feeeeeeee.............
        .......444...effe2e2e2eff444eeeeeeeeeeeee.feeeeeeee.............
        .......444...efff22e22fff4444eeceeeeeeeec.feeeeeeec.............
        .............ffef2fef2fefee4eeecceeeeeeec.fceeeeeec.............
        .............feeffeeefeeeeeeeeefceeeeeeef.fceeeeeef.............
        ............4ffeeeeeeeeefeeeeeeffeeeeeeef.efeeeeeef.............
        .............f44fffffff4eeeeeeeffeeeeeeef.efeeeeeef.............
        .............44df22222fd4eeeeeeeeeeeeeeee.eeeeeeeee.............
        .............e44f44444f44eeeeeeeeeeeeeeee.eeeeeeeee.............
        .............eeeefffff.eeeeeeeeeeeeeeeeee..eeeeeeee.............
        .............eeeefeeef.eeeeeeeeeeeeeeeeeef.eeeeeeee.............
        .............eeeeeeee..eeeeeeeeeeeeeeeeee..eeeeeeee.............
        .............eeeeeeee..eeeeeeeceeeeeeeece..eeeeeece.............
        .............eeceeeee..eeeeeeeceeeeeeeece..eeeeeece.............
        .............eeceeeee..eeeeeeefeeeeeeeefe..eeeeeefe.............
        .............eeceeeee..eeeeeeefeeeeeeeefe..eeeeeefe.............
        .............eeeeeeee..eeeeeeeceeeeeeeece..eeeeeece.............
        .............eeeeeeee..eeeeeeeceeeeeeeece..eeeeeece.............
        .............eeeeeeeee.eeeeeeeeeeeeeeeeeee.eeeeeeee.............
        .............eeeeeeeee.eeeeeeeeeeeeeeeeeee.eeeeeeee.............
        .............eeeeeeeee.eeeeeeeeeeeeeeeeeee.eeeeeeee.............
        .............ceeeeeeef.ceeeeeeeeceeeeeeeef.ceeeeeee.............
        .............ceeeeeeef.ceeeeeeeeceeeeeeeef.ceeeeeee.............
        .............ceeeeeeef.ceeeeeeeeceeeeeeeef.ceeeeeee.............
        .............fcceeeec..fceeeeeeefceeeecee..feeeecee.............
        .............fccceecc..fcceececefcceeccce..feeeecce.............
        .............fcceeccc..fceeececcfceeccccc..feececcc.............
        .............fccceccc..fcceececcfcceccccc..feececcc.............
        .............fccccece..fccccceccfcccececc..fcceeecc.............
        .............fccccccc..fcccccccffcccccccf..fccccccf.............
        .............cccccccc..cccccccccccccccccc..cccccccc.............
        .............cccccccc..cccccccccccccccccc..cccccccc.............
        .............cccccccc..cccccccccccccccccc..cccccccc.............
        .............cccccccc..cccccccccccccccccc..cccccccc.............
        ................................................................
        ................................................................
        ................................................................
        ................................................................
        ................................................................
        `,img`
        ................................................................
        ................................................................
        ................................................................
        ................................................................
        ................................................................
        .................bbb......bbb......bbb......bbb.................
        ...............bbdddb....bdddb....bdddb....bdddbb...............
        ..............bddbbbdb..bdbbbdb..bdbbbdb..bdbbbddb..............
        .............bdbbdddbdbbdbdddbdbbdbdddbdbbdbdddbbdb.............
        ............bdbbdbbbbbbdbdbbbdbddbdbbbbbdbbdbbbdbbdb............
        ............bdbdbdddddbdbbdddbbddbbddddbdbdbdddbdbdb............
        ............cdbbdbbbbbbdbdbbbdbddbdbbbbbdbbdbbbdbbdb............
        ............cbdbbdddbddbdbdddbdbbdbdddbdbbdbdddbbdb.............
        ............efbddbbbdeefbdbbbdbcfbdbbbdbc.efbbbddbc.............
        ............eeffbdddceeefbdddbceefbdddcce.eedddbcce.............
        ............eeeefccce.eeeffccceeeefccceee.eefccceee.............
        ............ceeeeeeee.ceeeeeeeeeeeeeeeeee.ceeeeeeee.............
        ............feeeeeeee.feeeeeeeeeeeeeeeeee.feeeeeeee.............
        ............cceeeeeee.cceeeeeeeeceeeeeeee.cceeeeeee.............
        .............feeeeeee..feeeeeeeefeeeeeeee..feeeeeee.............
        .............fceeeeeef.fceeeeeeefceeeeeee.ffeeeeeee.............
        .............eeeeeeeee.eeee44eeeeeeeeeeee.eeeeeeeee.............
        .............ceeeefffe.cee444eeeceeeeeeee.eceeeeeee.............
        .....1.......ceeffeeeffc4444eeeeceeeeeeee.eceeeeeee.............
        ..1..1.......eefeeefeeef44eeeeeeeeeeeeeee.eeeeeeeee.............
        ..1..1.......efffff2fffffeeeeeeeeeeeeeeee.feeeeeeee.............
        ..1..1.......effe2e2e2effeeeeeeeeeeeeeeee.feeeeeeee.............
        ..1..1.......efff22e22fffeeeeeeceeeeeeeec.feeeeeeec.............
        ..1..1.......ffef2fef2fefeeeeeecceeeeeeec.fceeeeeec.............
        ..1..1.......feeffeeefeeeeeeeeefceeeeeeef.fceeeeeef.............
        ..1..1.......ffeeeeeeeeefeeeeeeffeeeeeeef.efeeeeeef.............
        ..1..1......4f44fffffff4eeeeeeeffeeeeeeef.efeeeeeef.............
        ..1..1......444df22222fd4eeeeeeeeeeeeeeee.eeeeeeeee.............
        ..1.1......44e44f44444f44eeeeeeeeeeeeeeee.eeeeeeeee.............
        ..1.......444eeeefffff.eeeeeeeeeeeeeeeeee..eeeeeeee.............
        .1...44..444.eeeefeeef.eeeeeeeeeeeeeeeeeef.eeeeeeee.............
        ....444.444..eeeeeeee..eeeeeeeeeeeeeeeeee..eeeeeeee.............
        ...4444444...eeeeeeee..eeeeeeeceeeeeeeece..eeeeeece.............
        ..4444444....eeceeeee..eeeeeeeceeeeeeeece..eeeeeece.............
        ..444444444..eeceeeee..eeeeeeefeeeeeeeefe..eeeeeefe.............
        ..444444444..eeceeeee..eeeeeeefeeeeeeeefe..eeeeeefe.............
        ..44444444...eeeeeeee..eeeeeeeceeeeeeeece..eeeeeece.............
        ..4444444....eeeeeeee..eeeeeeeceeeeeeeece..eeeeeece.............
        ...4444......eeeeeeeee.eeeeeeeeeeeeeeeeeee.eeeeeeee.............
        .............eeeeeeeee.eeeeeeeeeeeeeeeeeee.eeeeeeee.............
        .............eeeeeeeee.eeeeeeeeeeeeeeeeeee.eeeeeeee.............
        .............ceeeeeeef.ceeeeeeeeceeeeeeeef.ceeeeeee.............
        .............ceeeeeeef.ceeeeeeeeceeeeeeeef.ceeeeeee.............
        .............ceeeeeeef.ceeeeeeeeceeeeeeeef.ceeeeeee.............
        .............fcceeeec..fceeeeeeefceeeecee..feeeecee.............
        .............fccceecc..fcceececefcceeccce..feeeecce.............
        .............fcceeccc..fceeececcfceeccccc..feececcc.............
        .............fccceccc..fcceececcfcceccccc..feececcc.............
        .............fccccece..fccccceccfcccececc..fcceeecc.............
        .............fccccccc..fcccccccffcccccccf..fccccccf.............
        .............cccccccc..cccccccccccccccccc..cccccccc.............
        .............cccccccc..cccccccccccccccccc..cccccccc.............
        .............cccccccc..cccccccccccccccccc..cccccccc.............
        .............cccccccc..cccccccccccccccccc..cccccccc.............
        ................................................................
        ................................................................
        ................................................................
        ................................................................
        ................................................................
        `],
    300,
    characterAnimations.rule(Predicate.MovingUp)
    )
    characterAnimations.loopFrames(
    raft,
    [img`
        ................................................................
        ................................................................
        ................................................................
        ................................................................
        ................................................................
        .................bbb......bbb......bbb......bbb.................
        ...............bbdddb....bdddb....bdddb....bdddbb...............
        ..............bddbbbdb..bdbbbdb..bdbbbdb..bdbbbddb..............
        .............bdbbdddbdbbdbdddbdbbdbdddbdbbdbdddbbdb.............
        ............bdbbdbbbbbbdbdbbbdbddbdbbbbbdbbdbbbdbbdb............
        ............bdbdbdddddbdbbdddbbddbbddddbdbdbdddbdbdb............
        ............cdbbdbbbbbbdbdbbbdbddbdbbbbbdbbdbbbdbbdb............
        ............cbdbbdddbddbdbdddbdbbdbdddbdbbdbdddbbdb.............
        ............efbddbbbdeefbdbbbdbcfbdbbbdbc.efbbbddbc.............
        ............eeffbdddceeefbdddbceefbdddcce.eedddbcce.............
        ............eeeefccce.eeeffccceeeefccceee.eefccceee.............
        ............ceeeeeeee.ceeeeeeeeeeeeeeeeee.ceeeeeeee.............
        ............feeeeeeee.feeeeeeeeeeeeeeeeee.feeeeeeee.............
        ............cceeeeeee.cceeeeeeeeceeeeeeee.cceeeeeee.............
        .............feeeeeee..feeeeeeeefeeeeeeee..feeeeeee.............
        .............fceeeeeef.fceeeeeeefceeeeeee.ffeeeeeee.............
        .............eeeeeeeee.eeee44eeeeeeeeeeee.eeeeeeeee.............
        .............ceeeefffe.cee444eeeceeeeeeee.eceeeeeee.............
        .............ceeffeeeffc4444eeeeceeeeeeee.eceeeeeee.............
        .............eefeeefeeef44eeeeeeeeeeeeeee.eeeeeeeee.............
        .............efffff2fffffeeeeeeeeeeeeeeee.feeeeeeee.............
        .............effe2e2e2effeeeeeeeeeeeeeeee.feeeeeeee.............
        .............efff22e22fffeeeeeeceeeeeeeec.feeeeeeec.............
        .............ffef2fef2fefeeeeeecceeeeeeec.fceeeeeec.............
        .............feeffeeefeefeeeeeefceeeeeeef.fceeeeeef.............
        .............ffeeeeeeeeefeeeeeeffeeeeeeef.efeeeeeef.............
        ............4f44fffffff4eeeeeeeffeeeeeeef.efeeeeeef.............
        ............444df22222fd4eeeeeeeeeeeeeeee.eeeeeeeee.............
        ...........44e44f44444f44eeeeeeeeeeeeeeee.eeeeeeeee.............
        ..........444eeeefffff.eeeeeeeeeeeeeeeeee..eeeeeeee.............
        .....44..444.eeeefeeef.eeeeeeeeeeeeeeeeeef.eeeeeeee.............
        ....444.444..eeeeeeee..eeeeeeeeeeeeeeeeee..eeeeeeee.............
        ...4444444...eeeeeeee..eeeeeeeceeeeeeeece..eeeeeece.............
        ..4444444....eeceeeee..eeeeeeeceeeeeeeece..eeeeeece.............
        ..444444444..eeceeeee..eeeeeeefeeeeeeeefe..eeeeeefe.............
        ..444444444..eeceeeee..eeeeeeefeeeeeeeefe..eeeeeefe.............
        ..44444444...eeeeeeee..eeeeeeeceeeeeeeece..eeeeeece.............
        ..4444444....eeeeeeee..eeeeeeeceeeeeeeece..eeeeeece.............
        ...4444......eeeeeeeee.eeeeeeeeeeeeeeeeeee.eeeeeeee.............
        .............eeeeeeeee.eeeeeeeeeeeeeeeeeee.eeeeeeee.............
        .............eeeeeeeee.eeeeeeeeeeeeeeeeeee.eeeeeeee.............
        .............ceeeeeeef.ceeeeeeeeceeeeeeeef.ceeeeeee.............
        .............ceeeeeeef.ceeeeeeeeceeeeeeeef.ceeeeeee.............
        .............ceeeeeeef.ceeeeeeeeceeeeeeeef.ceeeeeee.............
        .............fcceeeec..fceeeeeeefceeeecee..feeeecee.............
        .............fccceecc..fcceececefcceeccce..feeeecce.............
        .............fcceeccc..fceeececcfceeccccc..feececcc.............
        .............fccceccc..fcceececcfcceccccc..feececcc.............
        .............fccccece..fccccceccfcccececc..fcceeecc.............
        .............fccccccc..fcccccccffcccccccf..fccccccf.............
        .............cccccccc..cccccccccccccccccc..cccccccc.............
        .............cccccccc..cccccccccccccccccc..cccccccc.............
        .............cccccccc..cccccccccccccccccc..cccccccc.............
        .............cccccccc..cccccccccccccccccc..cccccccc.............
        ................................................................
        ................................................................
        ................................................................
        ................................................................
        ................................................................
        `,img`
        ................................................................
        ................................................................
        ................................................................
        ................................................................
        ................................................................
        .................bbb......bbb......bbb......bbb.................
        ...............bbdddb....bdddb....bdddb....bdddbb...............
        ..............bddbbbdb..bdbbbdb..bdbbbdb..bdbbbddb..............
        .............bdbbdddbdbbdbdddbdbbdbdddbdbbdbdddbbdb.............
        ............bdbbdbbbbbbdbdbbbdbddbdbbbbbdbbdbbbdbbdb............
        ............bdbdbdddddbdbbdddbbddbbddddbdbdbdddbdbdb............
        ............cdbbdbbbbbbdbdbbbdbddbdbbbbbdbbdbbbdbbdb............
        ............cbdbbdddbddbdbdddbdbbdbdddbdbbdbdddbbdb.............
        ............efbddbbbdeefbdbbbdbcfbdbbbdbc.efbbbddbc.............
        ............eeffbdddceeefbdddbceefbdddcce.eedddbcce.............
        ............eeeefccce.eeeffccceeeefccceee.eefccceee.............
        ............ceeeeeeee.ceeeeeeeeeeeeeeeeee.ceeeeeeee.............
        ............feeeeeeee.feeeeeeeeeeeeeeeeee.feeeeeeee.............
        ............cceeeeeee.cceeeeeeeeceeeeeeee.cceeeeeee.............
        .............feeeeeee..feeeeeeeefeeeeeeee..feeeeeee.............
        .............fceeeeeef.fceeeeeeefceeeeeee.ffeeeeeee.............
        .............eeeeeeeee.eeeeeeeeeeeeeeeeee.eeeeeeeee.............
        .............ceeeefffe.ee44eeeeeceeeeeeee.eceeeeeee.............
        .............ceeffeeeff4444eeeeeceeeeeeee.eceeeeeee.............
        .............eefeeefeeef4eeeeeeeeeeeeeeee.eeeeeeeee.............
        .............efffff2fffffeeeeeeeeeeeeeeee.feeeeeeee.............
        .............effe2e2e2effeeeeeeeeeeeeeeee.feeeeeeee.............
        .............efff22e22fffeeeeeeceeeeeeeec.feeeeeeec.............
        .............ffef2fef2fefeeeeeecceeeeeeec.fceeeeeec.............
        .............feeffeeefeefeeeeeefceeeeeeef.fceeeeeef.............
        .............ffeeeeeeeeefeeeeeeffeeeeeeef.efeeeeeef.............
        .............f44fffffff4eeeeeeeffeeeeeeef.efeeeeeef.............
        ............444df22222fd4eeeeeeeeeeeeeeee.eeeeeeeee.............
        ...........44e44f44444f44eeeeeeeeeeeeeeee.eeeeeeeee.............
        ..........44.eeeefffff.eeeeeeeeeeeeeeeeee..eeeeeeee.............
        .........444.eeeefeeef.eeeeeeeeeeeeeeeeeef.eeeeeeee.............
        ........444..eeeeeeee..eeeeeeeeeeeeeeeeee..eeeeeeee.............
        ...44..444...eeeeeeee..eeeeeeeceeeeeeeece..eeeeeece.............
        ..444.444....eeceeeee..eeeeeeeceeeeeeeece..eeeeeece.............
        .4444444.....eeceeeee..eeeeeeefeeeeeeeefe..eeeeeefe.............
        4444444......eeceeeee..eeeeeeefeeeeeeeefe..eeeeeefe.............
        444444444....eeeeeeee..eeeeeeeceeeeeeeece..eeeeeece.............
        444444444....eeeeeeee..eeeeeeeceeeeeeeece..eeeeeece.............
        44444444.....eeeeeeeee.eeeeeeeeeeeeeeeeeee.eeeeeeee.............
        4444444......eeeeeeeee.eeeeeeeeeeeeeeeeeee.eeeeeeee.............
        .4444........eeeeeeeee.eeeeeeeeeeeeeeeeeee.eeeeeeee.............
        .............ceeeeeeef.ceeeeeeeeceeeeeeeef.ceeeeeee.............
        .............ceeeeeeef.ceeeeeeeeceeeeeeeef.ceeeeeee.............
        .............ceeeeeeef.ceeeeeeeeceeeeeeeef.ceeeeeee.............
        .............fcceeeec..fceeeeeeefceeeecee..feeeecee.............
        .............fccceecc..fcceececefcceeccce..feeeecce.............
        .............fcceeccc..fceeececcfceeccccc..feececcc.............
        .............fccceccc..fcceececcfcceccccc..feececcc.............
        .............fccccece..fccccceccfcccececc..fcceeecc.............
        .............fccccccc..fcccccccffcccccccf..fccccccf.............
        .............cccccccc..cccccccccccccccccc..cccccccc.............
        .............cccccccc..cccccccccccccccccc..cccccccc.............
        .............cccccccc..cccccccccccccccccc..cccccccc.............
        .............cccccccc..cccccccccccccccccc..cccccccc.............
        ................................................................
        ................................................................
        ................................................................
        ................................................................
        ................................................................
        `],
    300,
    characterAnimations.rule(Predicate.MovingRight)
    )
    characterAnimations.loopFrames(
    raft,
    [img`
        ................................................................
        ................................................................
        ................................................................
        ................................................................
        ................................................................
        .................bbb......bbb......bbb......bbb.................
        ...............bbdddb....bdddb....bdddb....bdddbb...............
        ..............bddbbbdb..bdbbbdb..bdbbbdb..bdbbbddb..............
        .............bdbbdddbdbbdbdddbdbbdbdddbdbbdbdddbbdb.............
        ............bdbbdbbbbbbdbdbbbdbddbdbbbbbdbbdbbbdbbdb............
        ............bdbdbdddddbdbbdddbbddbbddddbdbdbdddbdbdb............
        ............cdbbdbbbbbbdbdbbbdbddbdbbbbbdbbdbbbdbbdb............
        ............cbdbbdddbddbdbdddbdbbdbdddbdbbdbdddbbdb.............
        ............efbddbbbdeefbdbbbdbcfbdbbbdbc.efbbbddbc.............
        ............eeffbdddceeefbdddbceefbdddcce.eedddbcce.............
        ............eeeefccce.eeeffccceeeefccceee.eefccceee.............
        ............ceeeeeeee.ceeeeeeeeeeeeeeeeee.ceeeeeeee.............
        ............feeeeeeee.feeeeeeeeeeeeeeeeee.feeeeeeee.............
        ............cceeeeeee.cceeeeeeeeceeeeeeee.cceeeeeee.............
        .............feeeeeee..feeeeeeeefeeeeeeee..feeeeeee.............
        .............fceeeeeef.fceeeeeeefceeeeeee.ffeeeeeee.............
        .............eeeeeeeee.eeeeeeeeeeeeeeeeee.eeeeeeeee.............
        .............ceeeefffe.ee44eeeeeceeeeeeee.eceeeeeee.............
        .............ceeffeeeff4444eeeeeceeeeeeee.eceeeeeee.............
        .............eefeeefeeef4eeeeeeeeeeeeeeee.eeeeeeeee.............
        .............efffff2fffffeeeeeeeeeeeeeeee.feeeeeeee.............
        .............effe2e2e2effeeeeeeeeeeeeeeee.feeeeeeee.............
        .............efff22e22fffeeeeeeceeeeeeeec.feeeeeeec.............
        .............ffef2fef2fefeeeeeecceeeeeeec.fceeeeeec.............
        .............feeffeeefeefeeeeeefceeeeeeef.fceeeeeef.............
        .............ffeeeeeeeeefeeeeeeffeeeeeeef.efeeeeeef.............
        .............f44fffffff4eeeeeeeffeeeeeeef.efeeeeeef.............
        ............444df22222fd4eeeeeeeeeeeeeeee.eeeeeeeee.............
        ...........44e44f44444f44eeeeeeeeeeeeeeee.eeeeeeeee.............
        ..........44.eeeefffff.eeeeeeeeeeeeeeeeee..eeeeeeee.............
        .........444.eeeefeeef.eeeeeeeeeeeeeeeeeef.eeeeeeee.............
        ........444..eeeeeeee..eeeeeeeeeeeeeeeeee..eeeeeeee.............
        ...44..444...eeeeeeee..eeeeeeeceeeeeeeece..eeeeeece.............
        ..444.444....eeceeeee..eeeeeeeceeeeeeeece..eeeeeece.............
        .4444444.....eeceeeee..eeeeeeefeeeeeeeefe..eeeeeefe.............
        4444444......eeceeeee..eeeeeeefeeeeeeeefe..eeeeeefe.............
        444444444....eeeeeeee..eeeeeeeceeeeeeeece..eeeeeece.............
        444444444....eeeeeeee..eeeeeeeceeeeeeeece..eeeeeece.............
        44444444.....eeeeeeeee.eeeeeeeeeeeeeeeeeee.eeeeeeee.............
        4444444......eeeeeeeee.eeeeeeeeeeeeeeeeeee.eeeeeeee.............
        .4444........eeeeeeeee.eeeeeeeeeeeeeeeeeee.eeeeeeee.............
        .............ceeeeeeef.ceeeeeeeeceeeeeeeef.ceeeeeee.............
        .............ceeeeeeef.ceeeeeeeeceeeeeeeef.ceeeeeee.............
        .............ceeeeeeef.ceeeeeeeeceeeeeeeef.ceeeeeee.............
        .............fcceeeec..fceeeeeeefceeeecee..feeeecee.............
        .............fccceecc..fcceececefcceeccce..feeeecce.............
        .............fcceeccc..fceeececcfceeccccc..feececcc.............
        .............fccceccc..fcceececcfcceccccc..feececcc.............
        .............fccccece..fccccceccfcccececc..fcceeecc.............
        .............fccccccc..fcccccccffcccccccf..fccccccf.............
        .............cccccccc..cccccccccccccccccc..cccccccc.............
        .............cccccccc..cccccccccccccccccc..cccccccc.............
        .............cccccccc..cccccccccccccccccc..cccccccc.............
        .............cccccccc..cccccccccccccccccc..cccccccc.............
        ................................................................
        ................................................................
        ................................................................
        ................................................................
        ................................................................
        `,img`
        ................................................................
        ................................................................
        ................................................................
        ................................................................
        ................................................................
        .................bbb......bbb......bbb......bbb.................
        ...............bbdddb....bdddb....bdddb....bdddbb...............
        ..............bddbbbdb..bdbbbdb..bdbbbdb..bdbbbddb..............
        .............bdbbdddbdbbdbdddbdbbdbdddbdbbdbdddbbdb.............
        ............bdbbdbbbbbbdbdbbbdbddbdbbbbbdbbdbbbdbbdb............
        ............bdbdbdddddbdbbdddbbddbbddddbdbdbdddbdbdb............
        ............cdbbdbbbbbbdbdbbbdbddbdbbbbbdbbdbbbdbbdb............
        ............cbdbbdddbddbdbdddbdbbdbdddbdbbdbdddbbdb.............
        ............efbddbbbdeefbdbbbdbcfbdbbbdbc.efbbbddbc.............
        ............eeffbdddceeefbdddbceefbdddcce.eedddbcce.............
        ............eeeefccce.eeeffccceeeefccceee.eefccceee.............
        ............ceeeeeeee.ceeeeeeeeeeeeeeeeee.ceeeeeeee.............
        ............feeeeeeee.feeeeeeeeeeeeeeeeee.feeeeeeee.............
        ............cceeeeeee.cceeeeeeeeceeeeeeee.cceeeeeee.............
        .............feeeeeee..feeeeeeeefeeeeeeee..feeeeeee.............
        .............fceeeeeef.fceeeeeeefceeeeeee.ffeeeeeee.............
        .............eeeeeeeee.eeee44eeeeeeeeeeee.eeeeeeeee.............
        .............ceeeefffe.cee444eeeceeeeeeee.eceeeeeee.............
        .............ceeffeeeffc4444eeeeceeeeeeee.eceeeeeee.............
        .............eefeeefeeef44eeeeeeeeeeeeeee.eeeeeeeee.............
        .............efffff2fffffeeeeeeeeeeeeeeee.feeeeeeee.............
        .............effe2e2e2effeeeeeeeeeeeeeeee.feeeeeeee.............
        .............efff22e22fffeeeeeeceeeeeeeec.feeeeeeec.............
        .............ffef2fef2fefeeeeeecceeeeeeec.fceeeeeec.............
        .............feeffeeefeefeeeeeefceeeeeeef.fceeeeeef.............
        .............ffeeeeeeeeefeeeeeeffeeeeeeef.efeeeeeef.............
        ............4f44fffffff4eeeeeeeffeeeeeeef.efeeeeeef.............
        ............444df22222fd4eeeeeeeeeeeeeeee.eeeeeeeee.............
        ...........44e44f44444f44eeeeeeeeeeeeeeee.eeeeeeeee.............
        ..........444eeeefffff.eeeeeeeeeeeeeeeeee..eeeeeeee.............
        .....44..444.eeeefeeef.eeeeeeeeeeeeeeeeeef.eeeeeeee.............
        ....444.444..eeeeeeee..eeeeeeeeeeeeeeeeee..eeeeeeee.............
        ...4444444...eeeeeeee..eeeeeeeceeeeeeeece..eeeeeece.............
        ..4444444....eeceeeee..eeeeeeeceeeeeeeece..eeeeeece.............
        ..444444444..eeceeeee..eeeeeeefeeeeeeeefe..eeeeeefe.............
        ..444444444..eeceeeee..eeeeeeefeeeeeeeefe..eeeeeefe.............
        ..44444444...eeeeeeee..eeeeeeeceeeeeeeece..eeeeeece.............
        ..4444444....eeeeeeee..eeeeeeeceeeeeeeece..eeeeeece.............
        ...4444......eeeeeeeee.eeeeeeeeeeeeeeeeeee.eeeeeeee.............
        .............eeeeeeeee.eeeeeeeeeeeeeeeeeee.eeeeeeee.............
        .............eeeeeeeee.eeeeeeeeeeeeeeeeeee.eeeeeeee.............
        .............ceeeeeeef.ceeeeeeeeceeeeeeeef.ceeeeeee.............
        .............ceeeeeeef.ceeeeeeeeceeeeeeeef.ceeeeeee.............
        .............ceeeeeeef.ceeeeeeeeceeeeeeeef.ceeeeeee.............
        .............fcceeeec..fceeeeeeefceeeecee..feeeecee.............
        .............fccceecc..fcceececefcceeccce..feeeecce.............
        .............fcceeccc..fceeececcfceeccccc..feececcc.............
        .............fccceccc..fcceececcfcceccccc..feececcc.............
        .............fccccece..fccccceccfcccececc..fcceeecc.............
        .............fccccccc..fcccccccffcccccccf..fccccccf.............
        .............cccccccc..cccccccccccccccccc..cccccccc.............
        .............cccccccc..cccccccccccccccccc..cccccccc.............
        .............cccccccc..cccccccccccccccccc..cccccccc.............
        .............cccccccc..cccccccccccccccccc..cccccccc.............
        ................................................................
        ................................................................
        ................................................................
        ................................................................
        ................................................................
        `],
    300,
    characterAnimations.rule(Predicate.MovingLeft)
    )
    characterAnimations.runFrames(
    raft,
    [img`
        ................................................................
        ................................................................
        ................................................................
        ................................................................
        ................................................................
        .................bbb......bbb......bbb......bbb.................
        ...............bbdddb....bdddb....bdddb....bdddbb...............
        ..............bddbbbdb..bdbbbdb..bdbbbdb..bdbbbddb..............
        .............bdbbdddbdbbdbdddbdbbdbdddbdbbdbdddbbdb.............
        ............bdbbdbbbbbbdbdbbbdbddbdbbbbbdbbdbbbdbbdb............
        ............bdbdbdddddbdbbdddbbddbbddddbdbdbdddbdbdb............
        ............cdbbdbbbbbbdbdbbbdbddbdbbbbbdbbdbbbdbbdb............
        ............cbdbbdddbddbdbdddbdbbdbdddbdbbdbdddbbdb.............
        ............efbddbbbdeefbdbbbdbcfbdbbbdbc.efbbbddbc.............
        ............eeffbdddceeefbdddbceefbdddcce.eedddbcce.............
        ............eeeefccce.eeeffccceeeefccceee.eefccceee.............
        ............ceeeeeeee.ceeeeeeeeeeeeeeeeee.ceeeeeeee.............
        ............feeeeeeee.feeeeeeeeeeeeeeeeee.feeeeeeee.............
        ............cceeeeeee.cceeeeeeeeceeeeeeee.cceeeeeee.............
        .............feeeeeee..feeeeeeeefeeeeeeee..feeeeeee.............
        .............fceeeeeef.fceeeeeeefceeeeeee.ffeeeeeee.............
        .............eeeeeeeee.eeee44eeeeeeeeeeee.eeeeeeeee.............
        .............ceeeefffe.cee444eeeceeeeeeee.eceeeeeee.............
        .............ceeffeeeffc4444eeeeceeeeeeee.eceeeeeee.............
        .............eefeeefeeef44eeeeeeeeeeeeeee.eeeeeeeee.............
        .............efffff2fffffeeeeeeeeeeeeeeee.feeeeeeee.............
        .............effe2e2e2effeeeeeeeeeeeeeeee.feeeeeeee.............
        .............efff22e22fffeeeeeeceeeeeeeec.feeeeeeec.............
        .............ffef2fef2fefeeeeeecceeeeeeec.fceeeeeec.............
        .............feeffeeefeeeeeeeeefceeeeeeef.fceeeeeef.............
        .............ffeeeeeeeeefeeeeeeffeeeeeeef.efeeeeeef.............
        ............4f44fffffff4eeeeeeeffeeeeeeef.efeeeeeef.............
        ............444df22222fd4eeeeeeeeeeeeeeee.eeeeeeeee.............
        ...........44e44f44444f44eeeeeeeeeeeeeeee.eeeeeeeee.............
        ..........444eeeefffff.eeeeeeeeeeeeeeeeee..eeeeeeee.............
        .....44..444.eeeefeeef.eeeeeeeeeeeeeeeeeef.eeeeeeee.............
        ....444.444..eeeeeeee..eeeeeeeeeeeeeeeeee..eeeeeeee.............
        ...4444444...eeeeeeee..eeeeeeeceeeeeeeece..eeeeeece.............
        ..4444444....eeceeeee..eeeeeeeceeeeeeeece..eeeeeece.............
        ..444444444..eeceeeee..eeeeeeefeeeeeeeefe..eeeeeefe.............
        ..444444444..eeceeeee..eeeeeeefeeeeeeeefe..eeeeeefe.............
        ..44444444...eeeeeeee..eeeeeeeceeeeeeeece..eeeeeece.............
        ..4444444....eeeeeeee..eeeeeeeceeeeeeeece..eeeeeece.............
        ...4444......eeeeeeeee.eeeeeeeeeeeeeeeeeee.eeeeeeee.............
        .............eeeeeeeee.eeeeeeeeeeeeeeeeeee.eeeeeeee.............
        .............eeeeeeeee.eeeeeeeeeeeeeeeeeee.eeeeeeee.............
        .............ceeeeeeef.ceeeeeeeeceeeeeeeef.ceeeeeee.............
        .............ceeeeeeef.ceeeeeeeeceeeeeeeef.ceeeeeee.............
        .............ceeeeeeef.ceeeeeeeeceeeeeeeef.ceeeeeee.............
        .............fcceeeec..fceeeeeeefceeeecee..feeeecee.............
        .............fccceecc..fcceececefcceeccce..feeeecce.............
        .............fcceeccc..fceeececcfceeccccc..feececcc.............
        .............fccceccc..fcceececcfcceccccc..feececcc.............
        .............fccccece..fccccceccfcccececc..fcceeecc.............
        .............fccccccc..fcccccccffcccccccf..fccccccf.............
        .............cccccccc..cccccccccccccccccc..cccccccc.............
        .............cccccccc..cccccccccccccccccc..cccccccc.............
        .............cccccccc..cccccccccccccccccc..cccccccc.............
        .............cccccccc..cccccccccccccccccc..cccccccc.............
        ................................................................
        ................................................................
        ................................................................
        ................................................................
        ................................................................
        `],
    200,
    characterAnimations.rule(Predicate.NotMoving)
    )
}

function enterRaftingModeWithVillager(){
    sprites.destroyAllSpritesOfKind(SpriteKind.Player)
    sprites.destroyAllSpritesOfKind(SpriteKind.Object)
    sprites.destroyAllSpritesOfKind(SpriteKind.Raft)

    raft = sprites.create(assets.image`RaftWithVillager`, SpriteKind.Raft)

    tiles.placeOnRandomTile(raft, assets.tile`myTile16`)
    tiles.replaceAllTiles(assets.tile`myTile16`, assets.tile`myTile3`)
    
    scene.cameraFollowSprite(raft)
    controller.moveSprite(raft, raftVel, raftVel)

    characterAnimations.loopFrames(
        raft,
        [img`
            ................................................................
            ................................................................
            ................................................................
            ................................................................
            ................................................................
            .................bbb......bbb......bbb......bbb.................
            ...............bbdddb....bdddb....bdddb....bdddbb...............
            ..............bddbbbdb..bdbbbdb..bdbbbdb..bdbbbddb..............
            .............bdbbdddbdbbdbdddbdbbdbdddbdbbdbdddbbdb.............
            ............bdbbdbbbbbbdbdbbbdbddbdbbbbbdbbdbbbdbbdb............
            ............bdbdbdddddbdbbdddbbddbbddddbdbdbdddbdbdb............
            ............cdbbdbbbbbbdbdbbbdbddbdbbbbbdbbdbbbdbbdb............
            ............cbdbbdddbddbdbdddbdbbdbdddbdbbdbdddbbdb.............
            ............efbddbbbdeefbdbbbdbcfbdbbbdbc.efbbbddbc.............
            ............eeffbdddceeefbdddbceefbdddcce.eedddbcce.............
            ............eeeefccce.eeeffccceeeefccceee.eefccceee.............
            ............ceeeeeeee.ceeeeeeeeeeeeeeeeee.ceeeeeeee.............
            ............feeeeeeee.feeeeeeeeeeeeeeeeee.feeeeeeee.............
            ............cceeeeeee.cceeeeeeeeceeeeeeee.cceeeeeee.............
            .............feeeeeee..feeeeeeeefeeeeeeee..feeeeeee.............
            .............fceeeeeef.fceeeeeeefceeeeeee.ffeeeeeee.............
            .............eeeeeeeee.eeee44ffffeeeeeeee.eeeeeeeee.............
            .............ceeeefffe.cee4ffccccffeeeeee.eceeeeeee.............
            .............ceeffeeeffc44ffccccccffeeeee.eceeeeeee.............
            .............eefeeefeeef4ffccccccccffeeee.eeeeeeeee.............
            .............efffff2fffffffccfccccccfeeee.feeeeeeee.............
            .............effe2e2e2efffffffcccfccfeeee.feeeeeeee.............
            .............efff22e22fffffffcccfccffeeec.feeeeeeec.............
            .............ffef2fef2fefffffffffffffeeec.fceeeeeec.............
            .............feeffeeefeeeffffffffffffeeef.fceeeeeef.............
            .............ffeeeeeeeeefeffffffffffeeeef.efeeeeeef.............
            ............4f44fffffff4eeffffffffffeeeef.efeeeeeef.............
            ............444df22222fd4feffffffffefeeee.eeeeeeeee.............
            ...........44e44f44444f44e4f777777c4eeeee.eeeeeeeee.............
            ..........444eeeefffff.eeeef666666feeeeee..eeeeeeee.............
            .....44..444.eeeefeeef.eeeeeffffffeeeeeeef.eeeeeeee.............
            ....444.444..eeeeeeee..eeeeeffeeffeeeeeee..eeeeeeee.............
            ...4444444...eeeeeeee..eeeeeeeceeeeeeeece..eeeeeece.............
            ..4444444....eeceeeee..eeeeeeeceeeeeeeece..eeeeeece.............
            ..444444444..eeceeeee..eeeeeeefeeeeeeeefe..eeeeeefe.............
            ..444444444..eeceeeee..eeeeeeefeeeeeeeefe..eeeeeefe.............
            ..44444444...eeeeeeee..eeeeeeeceeeeeeeece..eeeeeece.............
            ..4444444....eeeeeeee..eeeeeeeceeeeeeeece..eeeeeece.............
            ...4444......eeeeeeeee.eeeeeeeeeeeeeeeeeee.eeeeeeee.............
            .............eeeeeeeee.eeeeeeeeeeeeeeeeeee.eeeeeeee.............
            .............eeeeeeeee.eeeeeeeeeeeeeeeeeee.eeeeeeee.............
            .............ceeeeeeef.ceeeeeeeeceeeeeeeef.ceeeeeee.............
            .............ceeeeeeef.ceeeeeeeeceeeeeeeef.ceeeeeee.............
            .............ceeeeeeef.ceeeeeeeeceeeeeeeef.ceeeeeee.............
            .............fcceeeec..fceeeeeeefceeeecee..feeeecee.............
            .............fccceecc..fcceececefcceeccce..feeeecce.............
            .............fcceeccc..fceeececcfceeccccc..feececcc.............
            .............fccceccc..fcceececcfcceccccc..feececcc.............
            .............fccccece..fccccceccfcccececc..fcceeecc.............
            .............fccccccc..fcccccccffcccccccf..fccccccf.............
            .............cccccccc..cccccccccccccccccc..cccccccc.............
            .............cccccccc..cccccccccccccccccc..cccccccc.............
            .............cccccccc..cccccccccccccccccc..cccccccc.............
            .............cccccccc..cccccccccccccccccc..cccccccc.............
            ................................................................
            ................................................................
            ................................................................
            ................................................................
            ................................................................
        `, img`
            ................................................................
            ................................................................
            ................................................................
            ................................................................
            ................................................................
            .................bbb......bbb......bbb......bbb.................
            ...............bbdddb....bdddb....bdddb....bdddbb...............
            ..............bddbbbdb..bdbbbdb..bdbbbdb..bdbbbddb..............
            .............bdbbdddbdbbdbdddbdbbdbdddbdbbdbdddbbdb.............
            ............bdbbdbbbbbbdbdbbbdbddbdbbbbbdbbdbbbdbbdb............
            ............bdbdbdddddbdbbdddbbddbbddddbdbdbdddbdbdb............
            ............cdbbdbbbbbbdbdbbbdbddbdbbbbbdbbdbbbdbbdb............
            ............cbdbbdddbddbdbdddbdbbdbdddbdbbdbdddbbdb.............
            ............efbddbbbdeefbdbbbdbcfbdbbbdbc.efbbbddbc.............
            ............eeffbdddceeefbdddbceefbdddcce.eedddbcce.............
            ............eeeefccce.eeeffccceeeefccceee.eefccceee.............
            ............ceeeeeeee.ceeeeeeeeeeeeeeeeee.ceeeeeeee.............
            ............feeeeeeee.feeeeeeeeeeeeeeeeee.feeeeeeee.............
            ............cceeeeeee.cceeeeeeeeceeeeeeee.cceeeeeee.............
            .....4444444.feeeeeee..feeeeeeeefeeeeeeee..feeeeeee.............
            .....4444444.fceeeeeef.fceeeeeeefceeeeeee.ffeeeeeee.............
            .....44444444eeeeeeeee.eeeeeeffffeeeeeeee.eeeeeeeee.............
            .....4444444444eeefffe.ceeeffccccffeeeeee.eceeeeeee.............
            .....44444444444ffeeeffceeffccccccffeeeee.eceeeeeee.............
            .....444444..e4feeefeeefeffccccccccffeeee.eeeeeeeee.............
            ......4444...efffff2fffffffccfccccccfeeee.feeeeeeee.............
            .......444...effe2e2e2efffffffcccfccfeeee.feeeeeeee.............
            .......444...efff22e22fffffffcccfccffeeec.feeeeeeec.............
            .............ffef2fef2fefffffffffffffeeec.fceeeeeec.............
            ......1......feeffeeefeeeffffffffffffeeef.fceeeeeef.............
            .....1..1...4ffeeeeeeeeefeffffffffffeeeef.efeeeeeef.............
            .....1.1.....f44fffffff4eeffffffffffeeeef.efeeeeeef.............
            .....1.1.....44df22222fd4feffffffffefeeee.eeeeeeeee.............
            .....1.1.....e44f44444f44e4f777777c4eeeee.eeeeeeeee.............
            .....1.1.....eeeefffff.eeeef666666feeeeee..eeeeeeee.............
            .....1.1.....eeeefeeef.eeeeeffffffeeeeeeef.eeeeeeee.............
            .......1.....eeeeeeee..eeeeeffeeffeeeeeee..eeeeeeee.............
            .......1.....eeeeeeee..eeeeeeeceeeeeeeece..eeeeeece.............
            .......1.....eeceeeee..eeeeeeeceeeeeeeece..eeeeeece.............
            .............eeceeeee..eeeeeeefeeeeeeeefe..eeeeeefe.............
            .............eeceeeee..eeeeeeefeeeeeeeefe..eeeeeefe.............
            .............eeeeeeee..eeeeeeeceeeeeeeece..eeeeeece.............
            .............eeeeeeee..eeeeeeeceeeeeeeece..eeeeeece.............
            .............eeeeeeeee.eeeeeeeeeeeeeeeeeee.eeeeeeee.............
            .............eeeeeeeee.eeeeeeeeeeeeeeeeeee.eeeeeeee.............
            .............eeeeeeeee.eeeeeeeeeeeeeeeeeee.eeeeeeee.............
            .............ceeeeeeef.ceeeeeeeeceeeeeeeef.ceeeeeee.............
            .............ceeeeeeef.ceeeeeeeeceeeeeeeef.ceeeeeee.............
            .............ceeeeeeef.ceeeeeeeeceeeeeeeef.ceeeeeee.............
            .............fcceeeec..fceeeeeeefceeeecee..feeeecee.............
            .............fccceecc..fcceececefcceeccce..feeeecce.............
            .............fcceeccc..fceeececcfceeccccc..feececcc.............
            .............fccceccc..fcceececcfcceccccc..feececcc.............
            .............fccccece..fccccceccfcccececc..fcceeecc.............
            .............fccccccc..fcccccccffcccccccf..fccccccf.............
            .............cccccccc..cccccccccccccccccc..cccccccc.............
            .............cccccccc..cccccccccccccccccc..cccccccc.............
            .............cccccccc..cccccccccccccccccc..cccccccc.............
            .............cccccccc..cccccccccccccccccc..cccccccc.............
            ................................................................
            ................................................................
            ................................................................
            ................................................................
            ................................................................
        `],
        300,
        characterAnimations.rule(Predicate.MovingDown)
    )
    characterAnimations.loopFrames(
        raft,
        [img`
            ................................................................
            ................................................................
            ................................................................
            ................................................................
            ................................................................
            .................bbb......bbb......bbb......bbb.................
            ...............bbdddb....bdddb....bdddb....bdddbb...............
            ..............bddbbbdb..bdbbbdb..bdbbbdb..bdbbbddb..............
            .............bdbbdddbdbbdbdddbdbbdbdddbdbbdbdddbbdb.............
            ............bdbbdbbbbbbdbdbbbdbddbdbbbbbdbbdbbbdbbdb............
            ............bdbdbdddddbdbbdddbbddbbddddbdbdbdddbdbdb............
            ............cdbbdbbbbbbdbdbbbdbddbdbbbbbdbbdbbbdbbdb............
            ............cbdbbdddbddbdbdddbdbbdbdddbdbbdbdddbbdb.............
            ............efbddbbbdeefbdbbbdbcfbdbbbdbc.efbbbddbc.............
            ............eeffbdddceeefbdddbceefbdddcce.eedddbcce.............
            ............eeeefccce.eeeffccceeeefccceee.eefccceee.............
            ............ceeeeeeee.ceeeeeeeeeeeeeeeeee.ceeeeeeee.............
            ............feeeeeeee.feeeeeeeeeeeeeeeeee.feeeeeeee.............
            ............cceeeeeee.cceeeeeeeeceeeeeeee.cceeeeeee.............
            .....4444444.feeeeeee..feeeeeeeefeeeeeeee..feeeeeee.............
            .....4444444.fceeeeeef.fceeeeeeefceeeeeee.ffeeeeeee.............
            .....44444444eeeeeeeee.eeeeeeffffeeeeeeee.eeeeeeeee.............
            .....4444444444eeefffe.ceeeffccccffeeeeee.eceeeeeee.............
            .....44444444444ffeeeffceeffccccccffeeeee.eceeeeeee.............
            .....444444..e4feeefeeefeffccccccccffeeee.eeeeeeeee.............
            ......4444...efffff2fffffffccfccccccfeeee.feeeeeeee.............
            .......444...effe2e2e2efffffffcccfccfeeee.feeeeeeee.............
            .......444...efff22e22fffffffcccfccffeeec.feeeeeeec.............
            .............ffef2fef2fefffffffffffffeeec.fceeeeeec.............
            .............feeffeeefeeeffffffffffffeeef.fceeeeeef.............
            ............4ffeeeeeeeeefeffffffffffeeeef.efeeeeeef.............
            .............f44fffffff4eeffffffffffeeeef.efeeeeeef.............
            .............44df22222fd4feffffffffefeeee.eeeeeeeee.............
            .............e44f44444f44e4f777777c4eeeee.eeeeeeeee.............
            .............eeeefffff.eeeef666666feeeeee..eeeeeeee.............
            .............eeeefeeef.eeeeeffffffeeeeeeef.eeeeeeee.............
            .............eeeeeeee..eeeeeffeeffeeeeeee..eeeeeeee.............
            .............eeeeeeee..eeeeeeeceeeeeeeece..eeeeeece.............
            .............eeceeeee..eeeeeeeceeeeeeeece..eeeeeece.............
            .............eeceeeee..eeeeeeefeeeeeeeefe..eeeeeefe.............
            .............eeceeeee..eeeeeeefeeeeeeeefe..eeeeeefe.............
            .............eeeeeeee..eeeeeeeceeeeeeeece..eeeeeece.............
            .............eeeeeeee..eeeeeeeceeeeeeeece..eeeeeece.............
            .............eeeeeeeee.eeeeeeeeeeeeeeeeeee.eeeeeeee.............
            .............eeeeeeeee.eeeeeeeeeeeeeeeeeee.eeeeeeee.............
            .............eeeeeeeee.eeeeeeeeeeeeeeeeeee.eeeeeeee.............
            .............ceeeeeeef.ceeeeeeeeceeeeeeeef.ceeeeeee.............
            .............ceeeeeeef.ceeeeeeeeceeeeeeeef.ceeeeeee.............
            .............ceeeeeeef.ceeeeeeeeceeeeeeeef.ceeeeeee.............
            .............fcceeeec..fceeeeeeefceeeecee..feeeecee.............
            .............fccceecc..fcceececefcceeccce..feeeecce.............
            .............fcceeccc..fceeececcfceeccccc..feececcc.............
            .............fccceccc..fcceececcfcceccccc..feececcc.............
            .............fccccece..fccccceccfcccececc..fcceeecc.............
            .............fccccccc..fcccccccffcccccccf..fccccccf.............
            .............cccccccc..cccccccccccccccccc..cccccccc.............
            .............cccccccc..cccccccccccccccccc..cccccccc.............
            .............cccccccc..cccccccccccccccccc..cccccccc.............
            .............cccccccc..cccccccccccccccccc..cccccccc.............
            ................................................................
            ................................................................
            ................................................................
            ................................................................
            ................................................................
        `, img`
            ................................................................
            ................................................................
            ................................................................
            ................................................................
            ................................................................
            .................bbb......bbb......bbb......bbb.................
            ...............bbdddb....bdddb....bdddb....bdddbb...............
            ..............bddbbbdb..bdbbbdb..bdbbbdb..bdbbbddb..............
            .............bdbbdddbdbbdbdddbdbbdbdddbdbbdbdddbbdb.............
            ............bdbbdbbbbbbdbdbbbdbddbdbbbbbdbbdbbbdbbdb............
            ............bdbdbdddddbdbbdddbbddbbddddbdbdbdddbdbdb............
            ............cdbbdbbbbbbdbdbbbdbddbdbbbbbdbbdbbbdbbdb............
            ............cbdbbdddbddbdbdddbdbbdbdddbdbbdbdddbbdb.............
            ............efbddbbbdeefbdbbbdbcfbdbbbdbc.efbbbddbc.............
            ............eeffbdddceeefbdddbceefbdddcce.eedddbcce.............
            ............eeeefccce.eeeffccceeeefccceee.eefccceee.............
            ............ceeeeeeee.ceeeeeeeeeeeeeeeeee.ceeeeeeee.............
            ............feeeeeeee.feeeeeeeeeeeeeeeeee.feeeeeeee.............
            ............cceeeeeee.cceeeeeeeeceeeeeeee.cceeeeeee.............
            .............feeeeeee..feeeeeeeefeeeeeeee..feeeeeee.............
            .............fceeeeeef.fceeeeeeefceeeeeee.ffeeeeeee.............
            .............eeeeeeeee.eeee44ffffeeeeeeee.eeeeeeeee.............
            .............ceeeefffe.cee4ffccccffeeeeee.eceeeeeee.............
            .....1.......ceeffeeeffc44ffccccccffeeeee.eceeeeeee.............
            ..1..1.......eefeeefeeef4ffccccccccffeeee.eeeeeeeee.............
            ..1..1.......efffff2fffffffccfccccccfeeee.feeeeeeee.............
            ..1..1.......effe2e2e2efffffffcccfccfeeee.feeeeeeee.............
            ..1..1.......efff22e22fffffffcccfccffeeec.feeeeeeec.............
            ..1..1.......ffef2fef2fefffffffffffffeeec.fceeeeeec.............
            ..1..1.......feeffeeefeeeffffffffffffeeef.fceeeeeef.............
            ..1..1.......ffeeeeeeeeefeffffffffffeeeef.efeeeeeef.............
            ..1..1......4f44fffffff4eeffffffffffeeeef.efeeeeeef.............
            ..1..1......444df22222fd4feffffffffefeeee.eeeeeeeee.............
            ..1.1......44e44f44444f44e4f777777c4eeeee.eeeeeeeee.............
            ..1.......444eeeefffff.eeeef666666feeeeee..eeeeeeee.............
            .1...44..444.eeeefeeef.eeeeeffffffeeeeeeef.eeeeeeee.............
            ....444.444..eeeeeeee..eeeeeffeeffeeeeeee..eeeeeeee.............
            ...4444444...eeeeeeee..eeeeeeeceeeeeeeece..eeeeeece.............
            ..4444444....eeceeeee..eeeeeeeceeeeeeeece..eeeeeece.............
            ..444444444..eeceeeee..eeeeeeefeeeeeeeefe..eeeeeefe.............
            ..444444444..eeceeeee..eeeeeeefeeeeeeeefe..eeeeeefe.............
            ..44444444...eeeeeeee..eeeeeeeceeeeeeeece..eeeeeece.............
            ..4444444....eeeeeeee..eeeeeeeceeeeeeeece..eeeeeece.............
            ...4444......eeeeeeeee.eeeeeeeeeeeeeeeeeee.eeeeeeee.............
            .............eeeeeeeee.eeeeeeeeeeeeeeeeeee.eeeeeeee.............
            .............eeeeeeeee.eeeeeeeeeeeeeeeeeee.eeeeeeee.............
            .............ceeeeeeef.ceeeeeeeeceeeeeeeef.ceeeeeee.............
            .............ceeeeeeef.ceeeeeeeeceeeeeeeef.ceeeeeee.............
            .............ceeeeeeef.ceeeeeeeeceeeeeeeef.ceeeeeee.............
            .............fcceeeec..fceeeeeeefceeeecee..feeeecee.............
            .............fccceecc..fcceececefcceeccce..feeeecce.............
            .............fcceeccc..fceeececcfceeccccc..feececcc.............
            .............fccceccc..fcceececcfcceccccc..feececcc.............
            .............fccccece..fccccceccfcccececc..fcceeecc.............
            .............fccccccc..fcccccccffcccccccf..fccccccf.............
            .............cccccccc..cccccccccccccccccc..cccccccc.............
            .............cccccccc..cccccccccccccccccc..cccccccc.............
            .............cccccccc..cccccccccccccccccc..cccccccc.............
            .............cccccccc..cccccccccccccccccc..cccccccc.............
            ................................................................
            ................................................................
            ................................................................
            ................................................................
            ................................................................
        `],
        300,
        characterAnimations.rule(Predicate.MovingUp)
    )
    characterAnimations.loopFrames(
        raft,
        [img`
            ................................................................
            ................................................................
            ................................................................
            ................................................................
            ................................................................
            .................bbb......bbb......bbb......bbb.................
            ...............bbdddb....bdddb....bdddb....bdddbb...............
            ..............bddbbbdb..bdbbbdb..bdbbbdb..bdbbbddb..............
            .............bdbbdddbdbbdbdddbdbbdbdddbdbbdbdddbbdb.............
            ............bdbbdbbbbbbdbdbbbdbddbdbbbbbdbbdbbbdbbdb............
            ............bdbdbdddddbdbbdddbbddbbddddbdbdbdddbdbdb............
            ............cdbbdbbbbbbdbdbbbdbddbdbbbbbdbbdbbbdbbdb............
            ............cbdbbdddbddbdbdddbdbbdbdddbdbbdbdddbbdb.............
            ............efbddbbbdeefbdbbbdbcfbdbbbdbc.efbbbddbc.............
            ............eeffbdddceeefbdddbceefbdddcce.eedddbcce.............
            ............eeeefccce.eeeffccceeeefccceee.eefccceee.............
            ............ceeeeeeee.ceeeeeeeeeeeeeeeeee.ceeeeeeee.............
            ............feeeeeeee.feeeeeeeeeeeeeeeeee.feeeeeeee.............
            ............cceeeeeee.cceeeeeeeeceeeeeeee.cceeeeeee.............
            .............feeeeeee..feeeeeeeefeeeeeeee..feeeeeee.............
            .............fceeeeeef.fceeeeeeefceeeeeee.ffeeeeeee.............
            .............eeeeeeeee.eeee44ffffeeeeeeee.eeeeeeeee.............
            .............ceeeefffe.cee4ffccccffeeeeee.eceeeeeee.............
            .............ceeffeeeffc44ffccccccffeeeee.eceeeeeee.............
            .............eefeeefeeef4ffccccccccffeeee.eeeeeeeee.............
            .............efffff2fffffffccfccccccfeeee.feeeeeeee.............
            .............effe2e2e2efffffffcccfccfeeee.feeeeeeee.............
            .............efff22e22fffffffcccfccffeeec.feeeeeeec.............
            .............ffef2fef2fefffffffffffffeeec.fceeeeeec.............
            .............feeffeeefeefffffffffffffeeef.fceeeeeef.............
            .............ffeeeeeeeeefeffffffffffeeeef.efeeeeeef.............
            ............4f44fffffff4eeffffffffffeeeef.efeeeeeef.............
            ............444df22222fd4feffffffffefeeee.eeeeeeeee.............
            ...........44e44f44444f44e4f777777c4eeeee.eeeeeeeee.............
            ..........444eeeefffff.eeeef666666feeeeee..eeeeeeee.............
            .....44..444.eeeefeeef.eeeeeffffffeeeeeeef.eeeeeeee.............
            ....444.444..eeeeeeee..eeeeeffeeffeeeeeee..eeeeeeee.............
            ...4444444...eeeeeeee..eeeeeeeceeeeeeeece..eeeeeece.............
            ..4444444....eeceeeee..eeeeeeeceeeeeeeece..eeeeeece.............
            ..444444444..eeceeeee..eeeeeeefeeeeeeeefe..eeeeeefe.............
            ..444444444..eeceeeee..eeeeeeefeeeeeeeefe..eeeeeefe.............
            ..44444444...eeeeeeee..eeeeeeeceeeeeeeece..eeeeeece.............
            ..4444444....eeeeeeee..eeeeeeeceeeeeeeece..eeeeeece.............
            ...4444......eeeeeeeee.eeeeeeeeeeeeeeeeeee.eeeeeeee.............
            .............eeeeeeeee.eeeeeeeeeeeeeeeeeee.eeeeeeee.............
            .............eeeeeeeee.eeeeeeeeeeeeeeeeeee.eeeeeeee.............
            .............ceeeeeeef.ceeeeeeeeceeeeeeeef.ceeeeeee.............
            .............ceeeeeeef.ceeeeeeeeceeeeeeeef.ceeeeeee.............
            .............ceeeeeeef.ceeeeeeeeceeeeeeeef.ceeeeeee.............
            .............fcceeeec..fceeeeeeefceeeecee..feeeecee.............
            .............fccceecc..fcceececefcceeccce..feeeecce.............
            .............fcceeccc..fceeececcfceeccccc..feececcc.............
            .............fccceccc..fcceececcfcceccccc..feececcc.............
            .............fccccece..fccccceccfcccececc..fcceeecc.............
            .............fccccccc..fcccccccffcccccccf..fccccccf.............
            .............cccccccc..cccccccccccccccccc..cccccccc.............
            .............cccccccc..cccccccccccccccccc..cccccccc.............
            .............cccccccc..cccccccccccccccccc..cccccccc.............
            .............cccccccc..cccccccccccccccccc..cccccccc.............
            ................................................................
            ................................................................
            ................................................................
            ................................................................
            ................................................................
        `, img`
            ................................................................
            ................................................................
            ................................................................
            ................................................................
            ................................................................
            .................bbb......bbb......bbb......bbb.................
            ...............bbdddb....bdddb....bdddb....bdddbb...............
            ..............bddbbbdb..bdbbbdb..bdbbbdb..bdbbbddb..............
            .............bdbbdddbdbbdbdddbdbbdbdddbdbbdbdddbbdb.............
            ............bdbbdbbbbbbdbdbbbdbddbdbbbbbdbbdbbbdbbdb............
            ............bdbdbdddddbdbbdddbbddbbddddbdbdbdddbdbdb............
            ............cdbbdbbbbbbdbdbbbdbddbdbbbbbdbbdbbbdbbdb............
            ............cbdbbdddbddbdbdddbdbbdbdddbdbbdbdddbbdb.............
            ............efbddbbbdeefbdbbbdbcfbdbbbdbc.efbbbddbc.............
            ............eeffbdddceeefbdddbceefbdddcce.eedddbcce.............
            ............eeeefccce.eeeffccceeeefccceee.eefccceee.............
            ............ceeeeeeee.ceeeeeeeeeeeeeeeeee.ceeeeeeee.............
            ............feeeeeeee.feeeeeeeeeeeeeeeeee.feeeeeeee.............
            ............cceeeeeee.cceeeeeeeeceeeeeeee.cceeeeeee.............
            .............feeeeeee..feeeeeeeefeeeeeeee..feeeeeee.............
            .............fceeeeeef.fceeeeeeefceeeeeee.ffeeeeeee.............
            .............eeeeeeeee.eeeeeeffffeeeeeeee.eeeeeeeee.............
            .............ceeeefffe.ee44ffccccffeeeeee.eceeeeeee.............
            .............ceeffeeeff444ffccccccffeeeee.eceeeeeee.............
            .............eefeeefeeef4ffccccccccffeeee.eeeeeeeee.............
            .............efffff2fffffffccfccccccfeeee.feeeeeeee.............
            .............effe2e2e2efffffffcccfccfeeee.feeeeeeee.............
            .............efff22e22fffffffcccfccffeeec.feeeeeeec.............
            .............ffef2fef2fefffffffffffffeeec.fceeeeeec.............
            .............feeffeeefeefffffffffffffeeef.fceeeeeef.............
            .............ffeeeeeeeeefeffffffffffeeeef.efeeeeeef.............
            .............f44fffffff4eeffffffffffeeeef.efeeeeeef.............
            ............444df22222fd4feffffffffefeeee.eeeeeeeee.............
            ...........44e44f44444f44e4f777777c4eeeee.eeeeeeeee.............
            ..........44.eeeefffff.eeeef666666feeeeee..eeeeeeee.............
            .........444.eeeefeeef.eeeeeffffffeeeeeeef.eeeeeeee.............
            ........444..eeeeeeee..eeeeeffeeffeeeeeee..eeeeeeee.............
            ...44..444...eeeeeeee..eeeeeeeceeeeeeeece..eeeeeece.............
            ..444.444....eeceeeee..eeeeeeeceeeeeeeece..eeeeeece.............
            .4444444.....eeceeeee..eeeeeeefeeeeeeeefe..eeeeeefe.............
            4444444......eeceeeee..eeeeeeefeeeeeeeefe..eeeeeefe.............
            444444444....eeeeeeee..eeeeeeeceeeeeeeece..eeeeeece.............
            444444444....eeeeeeee..eeeeeeeceeeeeeeece..eeeeeece.............
            44444444.....eeeeeeeee.eeeeeeeeeeeeeeeeeee.eeeeeeee.............
            4444444......eeeeeeeee.eeeeeeeeeeeeeeeeeee.eeeeeeee.............
            .4444........eeeeeeeee.eeeeeeeeeeeeeeeeeee.eeeeeeee.............
            .............ceeeeeeef.ceeeeeeeeceeeeeeeef.ceeeeeee.............
            .............ceeeeeeef.ceeeeeeeeceeeeeeeef.ceeeeeee.............
            .............ceeeeeeef.ceeeeeeeeceeeeeeeef.ceeeeeee.............
            .............fcceeeec..fceeeeeeefceeeecee..feeeecee.............
            .............fccceecc..fcceececefcceeccce..feeeecce.............
            .............fcceeccc..fceeececcfceeccccc..feececcc.............
            .............fccceccc..fcceececcfcceccccc..feececcc.............
            .............fccccece..fccccceccfcccececc..fcceeecc.............
            .............fccccccc..fcccccccffcccccccf..fccccccf.............
            .............cccccccc..cccccccccccccccccc..cccccccc.............
            .............cccccccc..cccccccccccccccccc..cccccccc.............
            .............cccccccc..cccccccccccccccccc..cccccccc.............
            .............cccccccc..cccccccccccccccccc..cccccccc.............
            ................................................................
            ................................................................
            ................................................................
            ................................................................
            ................................................................
        `],
        300,
        characterAnimations.rule(Predicate.MovingRight)
    )
    characterAnimations.loopFrames(
        raft,
        [img`
            ................................................................
            ................................................................
            ................................................................
            ................................................................
            ................................................................
            .................bbb......bbb......bbb......bbb.................
            ...............bbdddb....bdddb....bdddb....bdddbb...............
            ..............bddbbbdb..bdbbbdb..bdbbbdb..bdbbbddb..............
            .............bdbbdddbdbbdbdddbdbbdbdddbdbbdbdddbbdb.............
            ............bdbbdbbbbbbdbdbbbdbddbdbbbbbdbbdbbbdbbdb............
            ............bdbdbdddddbdbbdddbbddbbddddbdbdbdddbdbdb............
            ............cdbbdbbbbbbdbdbbbdbddbdbbbbbdbbdbbbdbbdb............
            ............cbdbbdddbddbdbdddbdbbdbdddbdbbdbdddbbdb.............
            ............efbddbbbdeefbdbbbdbcfbdbbbdbc.efbbbddbc.............
            ............eeffbdddceeefbdddbceefbdddcce.eedddbcce.............
            ............eeeefccce.eeeffccceeeefccceee.eefccceee.............
            ............ceeeeeeee.ceeeeeeeeeeeeeeeeee.ceeeeeeee.............
            ............feeeeeeee.feeeeeeeeeeeeeeeeee.feeeeeeee.............
            ............cceeeeeee.cceeeeeeeeceeeeeeee.cceeeeeee.............
            .............feeeeeee..feeeeeeeefeeeeeeee..feeeeeee.............
            .............fceeeeeef.fceeeeeeefceeeeeee.ffeeeeeee.............
            .............eeeeeeeee.eeeeeeffffeeeeeeee.eeeeeeeee.............
            .............ceeeefffe.ee44ffccccffeeeeee.eceeeeeee.............
            .............ceeffeeeff444ffccccccffeeeee.eceeeeeee.............
            .............eefeeefeeef4ffccccccccffeeee.eeeeeeeee.............
            .............efffff2fffffffccfccccccfeeee.feeeeeeee.............
            .............effe2e2e2efffffffcccfccfeeee.feeeeeeee.............
            .............efff22e22fffffffcccfccffeeec.feeeeeeec.............
            .............ffef2fef2fefffffffffffffeeec.fceeeeeec.............
            .............feeffeeefeefffffffffffffeeef.fceeeeeef.............
            .............ffeeeeeeeeefeffffffffffeeeef.efeeeeeef.............
            .............f44fffffff4eeffffffffffeeeef.efeeeeeef.............
            ............444df22222fd4feffffffffefeeee.eeeeeeeee.............
            ...........44e44f44444f44e4f777777c4eeeee.eeeeeeeee.............
            ..........44.eeeefffff.eeeef666666feeeeee..eeeeeeee.............
            .........444.eeeefeeef.eeeeeffffffeeeeeeef.eeeeeeee.............
            ........444..eeeeeeee..eeeeeffeeffeeeeeee..eeeeeeee.............
            ...44..444...eeeeeeee..eeeeeeeceeeeeeeece..eeeeeece.............
            ..444.444....eeceeeee..eeeeeeeceeeeeeeece..eeeeeece.............
            .4444444.....eeceeeee..eeeeeeefeeeeeeeefe..eeeeeefe.............
            4444444......eeceeeee..eeeeeeefeeeeeeeefe..eeeeeefe.............
            444444444....eeeeeeee..eeeeeeeceeeeeeeece..eeeeeece.............
            444444444....eeeeeeee..eeeeeeeceeeeeeeece..eeeeeece.............
            44444444.....eeeeeeeee.eeeeeeeeeeeeeeeeeee.eeeeeeee.............
            4444444......eeeeeeeee.eeeeeeeeeeeeeeeeeee.eeeeeeee.............
            .4444........eeeeeeeee.eeeeeeeeeeeeeeeeeee.eeeeeeee.............
            .............ceeeeeeef.ceeeeeeeeceeeeeeeef.ceeeeeee.............
            .............ceeeeeeef.ceeeeeeeeceeeeeeeef.ceeeeeee.............
            .............ceeeeeeef.ceeeeeeeeceeeeeeeef.ceeeeeee.............
            .............fcceeeec..fceeeeeeefceeeecee..feeeecee.............
            .............fccceecc..fcceececefcceeccce..feeeecce.............
            .............fcceeccc..fceeececcfceeccccc..feececcc.............
            .............fccceccc..fcceececcfcceccccc..feececcc.............
            .............fccccece..fccccceccfcccececc..fcceeecc.............
            .............fccccccc..fcccccccffcccccccf..fccccccf.............
            .............cccccccc..cccccccccccccccccc..cccccccc.............
            .............cccccccc..cccccccccccccccccc..cccccccc.............
            .............cccccccc..cccccccccccccccccc..cccccccc.............
            .............cccccccc..cccccccccccccccccc..cccccccc.............
            ................................................................
            ................................................................
            ................................................................
            ................................................................
            ................................................................
        `, img`
            ................................................................
            ................................................................
            ................................................................
            ................................................................
            ................................................................
            .................bbb......bbb......bbb......bbb.................
            ...............bbdddb....bdddb....bdddb....bdddbb...............
            ..............bddbbbdb..bdbbbdb..bdbbbdb..bdbbbddb..............
            .............bdbbdddbdbbdbdddbdbbdbdddbdbbdbdddbbdb.............
            ............bdbbdbbbbbbdbdbbbdbddbdbbbbbdbbdbbbdbbdb............
            ............bdbdbdddddbdbbdddbbddbbddddbdbdbdddbdbdb............
            ............cdbbdbbbbbbdbdbbbdbddbdbbbbbdbbdbbbdbbdb............
            ............cbdbbdddbddbdbdddbdbbdbdddbdbbdbdddbbdb.............
            ............efbddbbbdeefbdbbbdbcfbdbbbdbc.efbbbddbc.............
            ............eeffbdddceeefbdddbceefbdddcce.eedddbcce.............
            ............eeeefccce.eeeffccceeeefccceee.eefccceee.............
            ............ceeeeeeee.ceeeeeeeeeeeeeeeeee.ceeeeeeee.............
            ............feeeeeeee.feeeeeeeeeeeeeeeeee.feeeeeeee.............
            ............cceeeeeee.cceeeeeeeeceeeeeeee.cceeeeeee.............
            .............feeeeeee..feeeeeeeefeeeeeeee..feeeeeee.............
            .............fceeeeeef.fceeeeeeefceeeeeee.ffeeeeeee.............
            .............eeeeeeeee.eeee44ffffeeeeeeee.eeeeeeeee.............
            .............ceeeefffe.cee4ffccccffeeeeee.eceeeeeee.............
            .............ceeffeeeffc44ffccccccffeeeee.eceeeeeee.............
            .............eefeeefeeef4ffccccccccffeeee.eeeeeeeee.............
            .............efffff2fffffffccfccccccfeeee.feeeeeeee.............
            .............effe2e2e2efffffffcccfccfeeee.feeeeeeee.............
            .............efff22e22fffffffcccfccffeeec.feeeeeeec.............
            .............ffef2fef2fefffffffffffffeeec.fceeeeeec.............
            .............feeffeeefeefffffffffffffeeef.fceeeeeef.............
            .............ffeeeeeeeeefeffffffffffeeeef.efeeeeeef.............
            ............4f44fffffff4eeffffffffffeeeef.efeeeeeef.............
            ............444df22222fd4feffffffffefeeee.eeeeeeeee.............
            ...........44e44f44444f44e4f777777c4eeeee.eeeeeeeee.............
            ..........444eeeefffff.eeeef666666feeeeee..eeeeeeee.............
            .....44..444.eeeefeeef.eeeeeffffffeeeeeeef.eeeeeeee.............
            ....444.444..eeeeeeee..eeeeeffeeffeeeeeee..eeeeeeee.............
            ...4444444...eeeeeeee..eeeeeeeceeeeeeeece..eeeeeece.............
            ..4444444....eeceeeee..eeeeeeeceeeeeeeece..eeeeeece.............
            ..444444444..eeceeeee..eeeeeeefeeeeeeeefe..eeeeeefe.............
            ..444444444..eeceeeee..eeeeeeefeeeeeeeefe..eeeeeefe.............
            ..44444444...eeeeeeee..eeeeeeeceeeeeeeece..eeeeeece.............
            ..4444444....eeeeeeee..eeeeeeeceeeeeeeece..eeeeeece.............
            ...4444......eeeeeeeee.eeeeeeeeeeeeeeeeeee.eeeeeeee.............
            .............eeeeeeeee.eeeeeeeeeeeeeeeeeee.eeeeeeee.............
            .............eeeeeeeee.eeeeeeeeeeeeeeeeeee.eeeeeeee.............
            .............ceeeeeeef.ceeeeeeeeceeeeeeeef.ceeeeeee.............
            .............ceeeeeeef.ceeeeeeeeceeeeeeeef.ceeeeeee.............
            .............ceeeeeeef.ceeeeeeeeceeeeeeeef.ceeeeeee.............
            .............fcceeeec..fceeeeeeefceeeecee..feeeecee.............
            .............fccceecc..fcceececefcceeccce..feeeecce.............
            .............fcceeccc..fceeececcfceeccccc..feececcc.............
            .............fccceccc..fcceececcfcceccccc..feececcc.............
            .............fccccece..fccccceccfcccececc..fcceeecc.............
            .............fccccccc..fcccccccffcccccccf..fccccccf.............
            .............cccccccc..cccccccccccccccccc..cccccccc.............
            .............cccccccc..cccccccccccccccccc..cccccccc.............
            .............cccccccc..cccccccccccccccccc..cccccccc.............
            .............cccccccc..cccccccccccccccccc..cccccccc.............
            ................................................................
            ................................................................
            ................................................................
            ................................................................
            ................................................................
        `],
        300,
        characterAnimations.rule(Predicate.MovingLeft)
    )
    characterAnimations.runFrames(
        raft,
        [img`
            ................................................................
            ................................................................
            ................................................................
            ................................................................
            ................................................................
            .................bbb......bbb......bbb......bbb.................
            ...............bbdddb....bdddb....bdddb....bdddbb...............
            ..............bddbbbdb..bdbbbdb..bdbbbdb..bdbbbddb..............
            .............bdbbdddbdbbdbdddbdbbdbdddbdbbdbdddbbdb.............
            ............bdbbdbbbbbbdbdbbbdbddbdbbbbbdbbdbbbdbbdb............
            ............bdbdbdddddbdbbdddbbddbbddddbdbdbdddbdbdb............
            ............cdbbdbbbbbbdbdbbbdbddbdbbbbbdbbdbbbdbbdb............
            ............cbdbbdddbddbdbdddbdbbdbdddbdbbdbdddbbdb.............
            ............efbddbbbdeefbdbbbdbcfbdbbbdbc.efbbbddbc.............
            ............eeffbdddceeefbdddbceefbdddcce.eedddbcce.............
            ............eeeefccce.eeeffccceeeefccceee.eefccceee.............
            ............ceeeeeeee.ceeeeeeeeeeeeeeeeee.ceeeeeeee.............
            ............feeeeeeee.feeeeeeeeeeeeeeeeee.feeeeeeee.............
            ............cceeeeeee.cceeeeeeeeceeeeeeee.cceeeeeee.............
            .............feeeeeee..feeeeeeeefeeeeeeee..feeeeeee.............
            .............fceeeeeef.fceeeeeeefceeeeeee.ffeeeeeee.............
            .............eeeeeeeee.eeee44ffffeeeeeeee.eeeeeeeee.............
            .............ceeeefffe.cee4ffccccffeeeeee.eceeeeeee.............
            .............ceeffeeeffc44ffccccccffeeeee.eceeeeeee.............
            .............eefeeefeeef4ffccccccccffeeee.eeeeeeeee.............
            .............efffff2fffffffccfccccccfeeee.feeeeeeee.............
            .............effe2e2e2efffffffcccfccfeeee.feeeeeeee.............
            .............efff22e22fffffffcccfccffeeec.feeeeeeec.............
            .............ffef2fef2fefffffffffffffeeec.fceeeeeec.............
            .............feeffeeefeeeffffffffffffeeef.fceeeeeef.............
            .............ffeeeeeeeeefeffffffffffeeeef.efeeeeeef.............
            ............4f44fffffff4eeffffffffffeeeef.efeeeeeef.............
            ............444df22222fd4feffffffffefeeee.eeeeeeeee.............
            ...........44e44f44444f44e4f777777c4eeeee.eeeeeeeee.............
            ..........444eeeefffff.eeeef666666feeeeee..eeeeeeee.............
            .....44..444.eeeefeeef.eeeeeffffffeeeeeeef.eeeeeeee.............
            ....444.444..eeeeeeee..eeeeeffeeffeeeeeee..eeeeeeee.............
            ...4444444...eeeeeeee..eeeeeeeceeeeeeeece..eeeeeece.............
            ..4444444....eeceeeee..eeeeeeeceeeeeeeece..eeeeeece.............
            ..444444444..eeceeeee..eeeeeeefeeeeeeeefe..eeeeeefe.............
            ..444444444..eeceeeee..eeeeeeefeeeeeeeefe..eeeeeefe.............
            ..44444444...eeeeeeee..eeeeeeeceeeeeeeece..eeeeeece.............
            ..4444444....eeeeeeee..eeeeeeeceeeeeeeece..eeeeeece.............
            ...4444......eeeeeeeee.eeeeeeeeeeeeeeeeeee.eeeeeeee.............
            .............eeeeeeeee.eeeeeeeeeeeeeeeeeee.eeeeeeee.............
            .............eeeeeeeee.eeeeeeeeeeeeeeeeeee.eeeeeeee.............
            .............ceeeeeeef.ceeeeeeeeceeeeeeeef.ceeeeeee.............
            .............ceeeeeeef.ceeeeeeeeceeeeeeeef.ceeeeeee.............
            .............ceeeeeeef.ceeeeeeeeceeeeeeeef.ceeeeeee.............
            .............fcceeeec..fceeeeeeefceeeecee..feeeecee.............
            .............fccceecc..fcceececefcceeccce..feeeecce.............
            .............fcceeccc..fceeececcfceeccccc..feececcc.............
            .............fccceccc..fcceececcfcceccccc..feececcc.............
            .............fccccece..fccccceccfcccececc..fcceeecc.............
            .............fccccccc..fcccccccffcccccccf..fccccccf.............
            .............cccccccc..cccccccccccccccccc..cccccccc.............
            .............cccccccc..cccccccccccccccccc..cccccccc.............
            .............cccccccc..cccccccccccccccccc..cccccccc.............
            .............cccccccc..cccccccccccccccccc..cccccccc.............
            ................................................................
            ................................................................
            ................................................................
            ................................................................
            ................................................................
        `],
        200,
        characterAnimations.rule(Predicate.NotMoving)
    )
}


let raft: Sprite = null
let hero: Sprite = null
let mom: Sprite = null
let villager: Sprite = null

let redHouse: Sprite = null
let blueHouse: Sprite = null

let raftVel = 0
let heroVel = 0

let dialogIndex = 0

let currentTileMap = ""

let canEnterRiver = false
let canEnterVillage = false
let canEnterRaft = false

currentTileMap = "HeroHouse"

heroVel = 50
raftVel = 50

loadHeroHouse()
